(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Hf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function MT(){if(Vy)return ql;Vy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Ny;function OT(){return Ny||(Ny=1,Hf.exports=MT()),Hf.exports}var it=OT(),Gf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function xT(){if(My)return bt;My=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,K={};function H(V,tt,lt){this.props=V,this.context=tt,this.refs=K,this.updater=lt||U}H.prototype.isReactComponent={},H.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=H.prototype;function at(V,tt,lt){this.props=V,this.context=tt,this.refs=K,this.updater=lt||U}var et=at.prototype=new J;et.constructor=at,L(et,H.prototype),et.isPureReactComponent=!0;var mt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function O(V,tt,lt,nt,pt,Dt){return lt=Dt.ref,{$$typeof:a,type:V,key:tt,ref:lt!==void 0?lt:null,props:Dt}}function b(V,tt){return O(V.type,tt,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return tt[lt]})}var x=/\/+/g;function I(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):tt.toString(36)}function R(){}function ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Wt(V,tt,lt,nt,pt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var Tt=!1;if(V===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(V.$$typeof){case a:case e:Tt=!0;break;case E:return Tt=V._init,Wt(Tt(V._payload),tt,lt,nt,pt)}}if(Tt)return pt=pt(V),Tt=nt===""?"."+I(V,0):nt,mt(pt)?(lt="",Tt!=null&&(lt=Tt.replace(x,"$&/")+"/"),Wt(pt,tt,lt,"",function(Pn){return Pn})):pt!=null&&(C(pt)&&(pt=b(pt,lt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(x,"$&/")+"/")+Tt)),tt.push(pt)),1;Tt=0;var Ce=nt===""?".":nt+":";if(mt(V))for(var Zt=0;Zt<V.length;Zt++)nt=V[Zt],Dt=Ce+I(nt,Zt),Tt+=Wt(nt,tt,lt,Dt,pt);else if(Zt=w(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(nt=V.next()).done;)nt=nt.value,Dt=Ce+I(nt,Zt++),Tt+=Wt(nt,tt,lt,Dt,pt);else if(Dt==="object"){if(typeof V.then=="function")return Wt(ee(V),tt,lt,nt,pt);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function F(V,tt,lt){if(V==null)return V;var nt=[],pt=0;return Wt(V,nt,"","",function(Dt){return tt.call(lt,Dt,pt++)}),nt}function st(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return bt.Children={map:F,forEach:function(V,tt,lt){F(V,function(){tt.apply(this,arguments)},lt)},count:function(V){var tt=0;return F(V,function(){tt++}),tt},toArray:function(V){return F(V,function(tt){return tt})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=H,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=at,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ht.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,tt,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var nt=L({},V.props),pt=V.key,Dt=void 0;if(tt!=null)for(Tt in tt.ref!==void 0&&(Dt=void 0),tt.key!==void 0&&(pt=""+tt.key),tt)!Rt.call(tt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&tt.ref===void 0||(nt[Tt]=tt[Tt]);var Tt=arguments.length-2;if(Tt===1)nt.children=lt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];nt.children=Ce}return O(V.type,pt,void 0,void 0,Dt,nt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},bt.createElement=function(V,tt,lt){var nt,pt={},Dt=null;if(tt!=null)for(nt in tt.key!==void 0&&(Dt=""+tt.key),tt)Rt.call(tt,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(pt[nt]=tt[nt]);var Tt=arguments.length-2;if(Tt===1)pt.children=lt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];pt.children=Ce}if(V&&V.defaultProps)for(nt in Tt=V.defaultProps,Tt)pt[nt]===void 0&&(pt[nt]=Tt[nt]);return O(V,Dt,void 0,void 0,null,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=C,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:st}},bt.memo=function(V,tt){return{$$typeof:y,type:V,compare:tt===void 0?null:tt}},bt.startTransition=function(V){var tt=ht.T,lt={};ht.T=lt;try{var nt=V(),pt=ht.S;pt!==null&&pt(lt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(kt,dt)}catch(Dt){dt(Dt)}finally{ht.T=tt}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(V){return ht.H.use(V)},bt.useActionState=function(V,tt,lt){return ht.H.useActionState(V,tt,lt)},bt.useCallback=function(V,tt){return ht.H.useCallback(V,tt)},bt.useContext=function(V){return ht.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,tt){return ht.H.useDeferredValue(V,tt)},bt.useEffect=function(V,tt,lt){var nt=ht.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(V,tt)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(V,tt,lt){return ht.H.useImperativeHandle(V,tt,lt)},bt.useInsertionEffect=function(V,tt){return ht.H.useInsertionEffect(V,tt)},bt.useLayoutEffect=function(V,tt){return ht.H.useLayoutEffect(V,tt)},bt.useMemo=function(V,tt){return ht.H.useMemo(V,tt)},bt.useOptimistic=function(V,tt){return ht.H.useOptimistic(V,tt)},bt.useReducer=function(V,tt,lt){return ht.H.useReducer(V,tt,lt)},bt.useRef=function(V){return ht.H.useRef(V)},bt.useState=function(V){return ht.H.useState(V)},bt.useSyncExternalStore=function(V,tt,lt){return ht.H.useSyncExternalStore(V,tt,lt)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.1.0",bt}var Oy;function Vd(){return Oy||(Oy=1,Gf.exports=xT()),Gf.exports}var Q=Vd(),Ff={exports:{}},jl={},Qf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function UT(){return xy||(xy=1,function(a){function e(F,st){var dt=F.length;F.push(st);t:for(;0<dt;){var kt=dt-1>>>1,V=F[kt];if(0<o(V,st))F[kt]=st,F[dt]=V,dt=kt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var st=F[0],dt=F.pop();if(dt!==st){F[0]=dt;t:for(var kt=0,V=F.length,tt=V>>>1;kt<tt;){var lt=2*(kt+1)-1,nt=F[lt],pt=lt+1,Dt=F[pt];if(0>o(nt,dt))pt<V&&0>o(Dt,nt)?(F[kt]=Dt,F[pt]=dt,kt=pt):(F[kt]=nt,F[lt]=dt,kt=lt);else if(pt<V&&0>o(Dt,dt))F[kt]=Dt,F[pt]=dt,kt=pt;else break t}}return st}function o(F,st){var dt=F.sortIndex-st.sortIndex;return dt!==0?dt:F.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,w=3,U=!1,L=!1,K=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function mt(F){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=F)s(y),st.sortIndex=st.expirationTime,e(p,st);else break;st=i(y)}}function ht(F){if(K=!1,mt(F),!L)if(i(p)!==null)L=!0,Rt||(Rt=!0,I());else{var st=i(y);st!==null&&Wt(ht,st.startTime-F)}}var Rt=!1,O=-1,b=5,C=-1;function N(){return H?!0:!(a.unstable_now()-C<b)}function x(){if(H=!1,Rt){var F=a.unstable_now();C=F;var st=!0;try{t:{L=!1,K&&(K=!1,at(O),O=-1),U=!0;var dt=w;try{e:{for(mt(F),S=i(p);S!==null&&!(S.expirationTime>F&&N());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,w=S.priorityLevel;var V=kt(S.expirationTime<=F);if(F=a.unstable_now(),typeof V=="function"){S.callback=V,mt(F),st=!0;break e}S===i(p)&&s(p),mt(F)}else s(p);S=i(p)}if(S!==null)st=!0;else{var tt=i(y);tt!==null&&Wt(ht,tt.startTime-F),st=!1}}break t}finally{S=null,w=dt,U=!1}st=void 0}}finally{st?I():Rt=!1}}}var I;if(typeof et=="function")I=function(){et(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=x,I=function(){ee.postMessage(null)}}else I=function(){J(x,0)};function Wt(F,st){O=J(function(){F(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(F){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var dt=w;w=st;try{return F()}finally{w=dt}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=w;w=F;try{return st()}finally{w=dt}},a.unstable_scheduleCallback=function(F,st,dt){var kt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,F={id:E++,callback:st,priorityLevel:F,startTime:dt,expirationTime:V,sortIndex:-1},dt>kt?(F.sortIndex=dt,e(y,F),i(p)===null&&F===i(y)&&(K?(at(O),O=-1):K=!0,Wt(ht,dt-kt))):(F.sortIndex=V,e(p,F),L||U||(L=!0,Rt||(Rt=!0,I()))),F},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(F){var st=w;return function(){var dt=w;w=st;try{return F.apply(this,arguments)}finally{w=dt}}}}(Yf)),Yf}var Uy;function LT(){return Uy||(Uy=1,Qf.exports=UT()),Qf.exports}var Kf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function PT(){if(Ly)return Ge;Ly=1;var a=Vd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Ge.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Py;function zT(){if(Py)return Kf.exports;Py=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Kf.exports=PT(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function kT(){if(zy)return jl;zy=1;var a=LT(),e=Vd(),i=zT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),et=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case H:return"Profiler";case K:return"StrictMode";case ht:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case et:return(t.displayName||"Context")+".Provider";case at:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Wt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],V=-1;function tt(t){return{current:t}}function lt(t){0>V||(t.current=kt[V],kt[V]=null,V--)}function nt(t,n){V++,kt[V]=t.current,t.current=n}var pt=tt(null),Dt=tt(null),Tt=tt(null),Ce=tt(null);function Zt(t,n){switch(nt(Tt,n),nt(Dt,t),nt(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ry(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(pt),nt(pt,t)}function Pn(){lt(pt),lt(Dt),lt(Tt)}function zi(t){t.memoizedState!==null&&nt(Ce,t);var n=pt.current,r=ay(n,t.type);n!==r&&(nt(Dt,t),nt(pt,r))}function si(t){Dt.current===t&&(lt(pt),lt(Dt)),Ce.current===t&&(lt(Ce),Ll._currentValue=dt)}var Dr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Os=a.unstable_shouldYield,vo=a.unstable_requestPaint,gn=a.unstable_now,jc=a.unstable_getCurrentPriorityLevel,xs=a.unstable_ImmediatePriority,Ea=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,Hc=a.unstable_LowPriority,Ta=a.unstable_IdlePriority,Us=a.log,Eo=a.unstable_setDisableYieldValue,le=null,Ht=null;function rn(t){if(typeof Us=="function"&&Eo(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var je=Math.clz32?Math.clz32:Mr,To=Math.log,Gc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(To(t)/Gc|0)|0}var Or=256,xr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Dn(l):(v&=T,v!==0?h=Dn(v):r||(r=T&~t,r!==0&&(h=Dn(r))))):(T=l&~f,T!==0?h=Dn(T):v!==0?h=Dn(v):r||(r=l&~t,r!==0&&(h=Dn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ur(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ls(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(){var t=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),t}function zs(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ks(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(r=v&~r;0<r;){var Y=31-je(r),$=1<<Y;T[Y]=0,D[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var j=q[Y];j!==null&&(j.lane&=-536870913)}r&=~$}l!==0&&zn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Bs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:by(t.type))}function Ao(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var ne=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ne,me="__reactProps$"+ne,pn="__reactContainer$"+ne,qs="__reactEvents$"+ne,Fc="__reactListeners$"+ne,qi="__reactHandles$"+ne,So="__reactResources$"+ne,Lr="__reactMarker$"+ne;function ji(t){delete t[Ee],delete t[me],delete t[qs],delete t[Fc],delete t[qi]}function ui(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=uy(t);t!==null;){if(r=t[Ee])return r;t=uy(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[Ee]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Lr]=!0}var js=new Set,ba={};function In(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(ba[t]=n,t=0;t<n.length;t++)js.add(n[t])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Pr={};function wo(t){return Dr.call(Pr,t)?!0:Dr.call(Ro,t)?!1:bo.test(t)?Pr[t]=!0:(Ro[t]=!0,!1)}function Hi(t,n,r){if(wo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zr,Co;function hi(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",Co=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+Co}var Ra=!1;function wa(t,n){if(!t||Ra)return"";Ra=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var q=j}Reflect.construct(t,[],$)}else{try{$.call()}catch(j){q=j}t.call($.prototype)}}else{try{throw Error()}catch(j){q=j}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var D=v.split(`
`),B=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ra=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function Hs(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return hi("Activity");default:return""}}function Ca(t){try{var n="";do n+=Hs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qc(t){var n=Gs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Da(t){t._valueTracker||(t._valueTracker=Qc(t))}function Fs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Gs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yc=/[\n"\\]/g;function ge(t){return t.replace(Yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,v,Xe(n)):r!=null?Gi(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xe(T):t.removeAttribute("name")}function Br(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Gi(t,n,r){n==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Do(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Do(t,f,n[f])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Ks(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[me]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Fs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var jn=!1;function Io(t,n,r){if(jn)return t(n,r);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(mi!==null||gi!==null)&&(Au(),mi&&(n=mi,t=gi,gi=mi=null,Ks(n),t)))for(n=0;n<t.length;n++)Ks(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{vn=!1}var Hn=null,Fi=null,pi=null;function Xs(){if(pi)return pi;var t,n=Fi,r=n.length,l,h="value"in Hn?Hn.value:Hn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return pi=h.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function $s(){return!1}function De(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:$s,this.isPropagationStopped=$s,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=De(qt),Fr=E({},qt,{view:0,detail:0}),Vo=De(Fr),Na,Ma,Qn,Qr=E({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Na=t.screenX-Qn.screenX,Ma=t.screenY-Qn.screenY):Ma=Na=0,Qn=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),En=De(Qr),No=E({},Qr,{dataTransfer:0}),$c=De(No),Yr=E({},Fr,{relatedTarget:0}),Oa=De(Yr),Zs=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=De(Zs),Mo=E({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=De(Mo),Zc=E({},qt,{data:0}),Js=De(Zc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ws(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xo[t])?!!n[t]:!1}function Xr(){return Ws}var Uo=E({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=De(Uo),Lo=E({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=De(Lo),yi=E({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Po=De(yi),zo=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=De(zo),Bo=E({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=De(Bo),$e=E({},qt,{newState:0,oldState:0}),qo=De($e),jo=[9,13,27,32],Yn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,_=Vn&&(!Yn||u&&8<u&&11>=u),A=" ",z=!1;function G(t,n){switch(t){case"keyup":return jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Te(t,n){switch(t){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function xt(t,n){if(Ot)return t==="compositionend"||!Yn&&G(t,n)?(t=Xs(),pi=Fi=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Du(n,"onChange"),0<n.length&&(r=new Va("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Kn=null;function el(t){Wp(t,0)}function Ho(t){var n=Bn(t);if(Fs(n))return t}function Em(t,n){if(t==="change")return n}var Tm=!1;if(Vn){var Jc;if(Vn){var Wc="oninput"in document;if(!Wc){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),Wc=typeof Am.oninput=="function"}Jc=Wc}else Jc=!1;Tm=Jc&&(!document.documentMode||9<document.documentMode)}function Sm(){Ue&&(Ue.detachEvent("onpropertychange",bm),Kn=Ue=null)}function bm(t){if(t.propertyName==="value"&&Ho(Kn)){var n=[];_i(n,Kn,t,_n(t)),Io(el,n)}}function o0(t,n,r){t==="focusin"?(Sm(),Ue=n,Kn=r,Ue.attachEvent("onpropertychange",bm)):t==="focusout"&&Sm()}function u0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(Kn)}function c0(t,n){if(t==="click")return Ho(n)}function h0(t,n){if(t==="input"||t==="change")return Ho(n)}function f0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:f0;function nl(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Dr.call(n,h)||!sn(t[h],n[h]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wm(t,n){var r=Rm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Rm(r)}}function Cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=kr(t.document)}return n}function th(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var d0=Vn&&"documentMode"in document&&11>=document.documentMode,za=null,eh=null,il=null,nh=!1;function Im(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nh||za==null||za!==kr(l)||(l=za,"selectionStart"in l&&th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Du(eh,"onSelect"),0<l.length&&(n=new Va("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ka={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},ih={},Vm={};Vn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Zr(t){if(ih[t])return ih[t];if(!ka[t])return t;var n=ka[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vm)return ih[t]=n[r];return t}var Nm=Zr("animationend"),Mm=Zr("animationiteration"),Om=Zr("animationstart"),m0=Zr("transitionrun"),g0=Zr("transitionstart"),p0=Zr("transitioncancel"),xm=Zr("transitionend"),Um=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function Nn(t,n){Um.set(t,n),In(n,[t])}var Lm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=Lm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ca(n)},Lm.set(t,n),n)}return{value:t,source:n,stack:Ca(n)}}var An=[],Ba=0,ah=0;function Go(){for(var t=Ba,n=ah=Ba=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Pm(r,h,f)}}function Fo(t,n,r,l){An[Ba++]=t,An[Ba++]=n,An[Ba++]=r,An[Ba++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,n,r,l){return Fo(t,n,r,l),Qo(t)}function qa(t,n){return Fo(t,null,null,n),Qo(t)}function Pm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-je(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Qo(t){if(50<Dl)throw Dl=0,df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ja={};function y0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new y0(t,n,r,l)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")lh(t)&&(v=1);else if(typeof t=="string")v=vT(t,r,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=ln(31,r,n,h),t.elementType=C,t.lanes=f,t;case L:return Jr(r.children,h,f,n);case K:v=8,h|=24;break;case H:return t=ln(12,r,n,h|2),t.elementType=H,t.lanes=f,t;case ht:return t=ln(13,r,n,h),t.elementType=ht,t.lanes=f,t;case Rt:return t=ln(19,r,n,h),t.elementType=Rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case et:v=10;break t;case at:v=9;break t;case mt:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function oh(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function uh(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ha=[],Ga=0,Ko=null,Xo=0,Sn=[],bn=0,Wr=null,Ei=1,Ti="";function ta(t,n){Ha[Ga++]=Xo,Ha[Ga++]=Ko,Ko=t,Xo=n}function km(t,n,r){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Wr,Wr=t;var l=Ei;t=Ti;var h=32-je(l)-1;l&=~(1<<h),r+=1;var f=32-je(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ei=1<<32-je(n)+h|r<<h|l,Ti=f+t}else Ei=1<<f|r<<h|l,Ti=t}function ch(t){t.return!==null&&(ta(t,1),km(t,1,0))}function hh(t){for(;t===Ko;)Ko=Ha[--Ga],Ha[Ga]=null,Xo=Ha[--Ga],Ha[Ga]=null;for(;t===Wr;)Wr=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var Ze=null,oe=null,Bt=!1,ea=null,Xn=!1,fh=Error(s(519));function na(t){var n=Error(s(418,""));throw sl(Tn(n,t)),fh}function Bm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)Nt(Vl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),qr(n,l.value,l.defaultValue,l.children),Da(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||iy(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Iu),n=!0):n=!1,n||na(t)}function qm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function rl(t){if(t!==Ze)return!1;if(!Bt)return qm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||If(t.type,t.memoizedProps)),r=!r),r&&oe&&na(t),qm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,lr(t.type)?(t=Of,Of=null,oe=t):oe=n):oe=Ze?On(t.stateNode.nextSibling):null;return!0}function al(){oe=Ze=null,Bt=!1}function jm(){var t=ea;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ea=null),t}function sl(t){ea===null?ea=[t]:ea.push(t)}var dh=tt(null),ia=null,Ai=null;function Qi(t,n,r){nt(dh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=dh.current,lt(dh)}function mh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function gh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),mh(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),mh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ll(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;sn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&gh(n,t,r,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Hm(ia,t)}function Zo(t,n){return ia===null&&ra(t),Hm(t,n)}function Hm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var _0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},v0=a.unstable_scheduleCallback,E0=a.unstable_NormalPriority,Se={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new _0,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&v0(E0,function(){t.controller.abort()})}var ul=null,yh=0,Fa=0,Qa=null;function T0(t,n){if(ul===null){var r=ul=[];yh=0,Fa=Ef(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yh++,n.then(Gm,Gm),n}function Gm(){if(--yh===0&&ul!==null){Qa!==null&&(Qa.status="fulfilled");var t=ul;ul=null,Fa=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Fm=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&T0(t,n),Fm!==null&&Fm(t,n)};var aa=tt(null);function _h(){var t=aa.current;return t!==null?t:Jt.pooledCache}function Jo(t,n){n===null?nt(aa,aa.current):nt(aa,n.pool)}function Qm(){var t=_h();return t===null?null:{parent:Se._currentValue,pool:t}}var cl=Error(s(460)),Ym=Error(s(474)),Wo=Error(s(542)),vh={then:function(){}};function Km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tu(){}function Xm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(tu,tu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zm(t),t;default:if(typeof n.status=="string")n.then(tu,tu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zm(t),t}throw hl=n,cl}}var hl=null;function $m(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function Zm(t){if(t===cl||t===Wo)throw Error(s(483))}var Yi=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Qo(t),Pm(t,null,r),n}return Fo(t,l,n,r),Qo(t)}function fl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Bs(t,r)}}function Ah(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Sh=!1;function dl(){if(Sh){var t=Qa;if(t!==null)throw t}}function ml(t,n,r,l){Sh=!1;var h=t.updateQueue;Yi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,v===null?f=B:v.next=B,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(f!==null){var $=h.baseState;v=0,Y=B=D=null,T=f;do{var q=T.lane&-536870913,j=q!==T.lane;if(j?(Ut&q)===q:(l&q)===q){q!==0&&q===Fa&&(Sh=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,yt=T;q=n;var Xt=r;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){$=Et.call(Xt,$,q);break t}$=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,q=typeof Et=="function"?Et.call(Xt,$,q):Et,q==null)break t;$=E({},$,q);break t;case 2:Yi=!0}}q=T.callback,q!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[q]:j.push(q))}else j={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=j,D=$):Y=Y.next=j,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(D=$),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ir|=v,t.lanes=v,t.memoizedState=$}}function Jm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Wm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Jm(r[t],n)}var Ya=tt(null),eu=tt(0);function tg(t,n){t=Vi,nt(eu,t),nt(Ya,n),Vi=t|n.baseLanes}function bh(){nt(eu,Vi),nt(Ya,Ya.current)}function Rh(){Vi=eu.current,lt(Ya),lt(eu)}var $i=0,wt=null,Yt=null,pe=null,nu=!1,Ka=!1,sa=!1,iu=0,gl=0,Xa=null,S0=0;function he(){throw Error(s(321))}function wh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function Ch(t,n,r,l,h,f){return $i=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Pg:zg,sa=!1,f=r(l,h),sa=!1,Ka&&(f=ng(n,r,l,h)),eg(t),f}function eg(t){F.H=uu;var n=Yt!==null&&Yt.next!==null;if($i=0,pe=Yt=wt=null,nu=!1,gl=0,Xa=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&$o(t)&&(Ve=!0))}function ng(t,n,r,l){wt=t;var h=0;do{if(Ka&&(Xa=null),gl=0,Ka=!1,25<=h)throw Error(s(301));if(h+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=V0,f=n(r,l)}while(Ka);return f}function b0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Dh(){var t=iu!==0;return iu=0,t}function Ih(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Vh(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}$i=0,pe=Yt=wt=null,Ka=!1,gl=iu=0,Xa=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=gl;return gl+=1,Xa===null&&(Xa=[]),t=Xm(Xa,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Pg:zg),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===et)return He(t)}throw Error(s(438,String(t)))}function Mh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Nh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function au(t){var n=ye();return Oh(n,Yt,t)}function Oh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,D=null,B=n,Y=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Ut&$)===$:($i&$)===$){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Fa&&(Y=!0);else if(($i&q)===q){B=B.next,q===Fa&&(Y=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=$,v=f):D=D.next=$,wt.lanes|=q,ir|=q;$=B.action,sa&&r(f,$),f=B.hasEagerState?B.eagerState:r(f,$)}else q={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,v=f):D=D.next=q,wt.lanes|=$,ir|=$;B=B.next}while(B!==null&&B!==n);if(D===null?v=f:D.next=T,!sn(f,t.memoizedState)&&(Ve=!0,Y&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ig(t,n,r){var l=wt,h=ye(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!sn((Yt||h).memoizedState,r);v&&(h.memoizedState=r,Ve=!0),h=h.queue;var T=sg.bind(null,l,h,t);if(yl(2048,8,T,[t]),h.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,$a(9,su(),ag.bind(null,l,h,r,n),null),Jt===null)throw Error(s(349));f||($i&124)!==0||rg(l,n,r)}return r}function rg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Nh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ag(t,n,r,l){n.value=r,n.getSnapshot=l,lg(n)&&og(t)}function sg(t,n,r){return r(function(){lg(n)&&og(t)})}function lg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function og(t){var n=qa(t,2);n!==null&&fn(n,t,2)}function Uh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),sa){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function ug(t,n,r,l){return t.baseState=r,Oh(t,Yt,typeof l=="function"?l:bi)}function R0(t,n,r,l,h){if(ou(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,cg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var T=r(h,l),D=F.S;D!==null&&D(v,T),hg(t,n,T)}catch(B){Lh(t,n,B)}finally{F.T=f}}else try{f=r(h,l),hg(t,n,f)}catch(B){Lh(t,n,B)}}function hg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fg(t,n,l)},function(l){return Lh(t,n,l)}):fg(t,n,r)}function fg(t,n,r){n.status="fulfilled",n.value=r,dg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,cg(t,r)))}function Lh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,dg(n),n=n.next;while(n!==l)}t.action=null}function dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mg(t,n){return n}function gg(t,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(Bt){if(oe){e:{for(var h=oe,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=On(h.nextSibling),l=h.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},r.queue=l,r=xg.bind(null,wt,l),l.dispatch=r,l=Uh(!1),f=qh.bind(null,wt,!1,l.queue),l=Je(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=R0.bind(null,wt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function pg(t){var n=ye();return yg(n,Yt,t)}function yg(t,n,r){if(n=Oh(t,n,mg)[0],t=au(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=pl(n)}catch(v){throw v===cl?Wo:v}else l=n;n=ye();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,$a(9,su(),w0.bind(null,h,r),null)),[l,f,t]}function w0(t,n){t.action=n}function _g(t){var n=ye(),r=Yt;if(r!==null)return yg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function $a(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Nh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function su(){return{destroy:void 0,resource:void 0}}function vg(){return ye().memoizedState}function lu(t,n,r,l){var h=Je();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=$a(1|n,su(),r,l)}function yl(t,n,r,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Yt!==null&&l!==null&&wh(l,Yt.memoizedState.deps)?h.memoizedState=$a(n,f,r,l):(wt.flags|=t,h.memoizedState=$a(1|n,f,r,l))}function Eg(t,n){lu(8390656,8,t,n)}function Tg(t,n){yl(2048,8,t,n)}function Ag(t,n){return yl(4,2,t,n)}function Sg(t,n){return yl(4,4,t,n)}function bg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,r){r=r!=null?r.concat([t]):null,yl(4,4,bg.bind(null,n,t),r)}function Ph(){}function wg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Cg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wh(n,l[1]))return l[0];if(l=t(),sa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function zh(t,n,r){return r===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Vp(),wt.lanes|=t,ir|=t,r)}function Dg(t,n,r,l){return sn(r,n)?r:Ya.current!==null?(t=zh(t,r,l),sn(t,n)||(Ve=!0),t):($i&42)===0?(Ve=!0,t.memoizedState=r):(t=Vp(),wt.lanes|=t,ir|=t,n)}function Ig(t,n,r,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=F.T,T={};F.T=T,qh(t,!1,n,r);try{var D=h(),B=F.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=A0(D,l);_l(t,n,Y,hn(t))}else _l(t,n,l,hn(t))}catch($){_l(t,n,{then:function(){},status:"rejected",reason:$},hn())}finally{st.p=f,F.T=v}}function C0(){}function kh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Vg(t).queue;Ig(t,h,n,dt,r===null?C0:function(){return Ng(t),r(l)})}function Vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=Vg(t).next.queue;_l(t,n,{},hn())}function Bh(){return He(Ll)}function Mg(){return ye().memoizedState}function Og(){return ye().memoizedState}function D0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Ki(r);var l=Xi(n,t,r);l!==null&&(fn(l,n,r),fl(l,n,r)),n={cache:ph()},t.payload=n;return}n=n.return}}function I0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ou(t)?Ug(n,r):(r=sh(t,n,r,l),r!==null&&(fn(r,t,l),Lg(r,n,l)))}function xg(t,n,r){var l=hn();_l(t,n,r,l)}function _l(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ou(t))Ug(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,sn(T,v))return Fo(t,n,h,0),Jt===null&&Go(),!1}catch{}finally{}if(r=sh(t,n,h,l),r!==null)return fn(r,t,l),Lg(r,n,l),!0}return!1}function qh(t,n,r,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},ou(t)){if(n)throw Error(s(479))}else n=sh(t,r,l,2),n!==null&&fn(n,t,2)}function ou(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Ug(t,n){Ka=nu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Bs(t,r)}}var uu={readContext:He,use:ru,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Pg={readContext:He,use:ru,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Eg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,lu(4194308,4,bg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(sa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var h=r(n);if(sa){rn(!0);try{r(n)}finally{rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=I0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Uh(t);var n=t.queue,r=xg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ph,useDeferredValue:function(t,n){var r=Je();return zh(r,t,n)},useTransition:function(){var t=Uh(!1);return t=Ig.bind(null,wt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,h=Je();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||rg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Eg(sg.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,su(),ag.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(Bt){var r=Ti,l=Ei;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=iu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=S0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Bh,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=qh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Mh,useCacheRefresh:function(){return Je().memoizedState=D0.bind(null,wt)}},zg={readContext:He,use:ru,useCallback:wg,useContext:He,useEffect:Tg,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:Sg,useMemo:Cg,useReducer:au,useRef:vg,useState:function(){return au(bi)},useDebugValue:Ph,useDeferredValue:function(t,n){var r=ye();return Dg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=au(bi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:Bh,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var r=ye();return ug(r,Yt,t,n)},useMemoCache:Mh,useCacheRefresh:Og},V0={readContext:He,use:ru,useCallback:wg,useContext:He,useEffect:Tg,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:Sg,useMemo:Cg,useReducer:xh,useRef:vg,useState:function(){return xh(bi)},useDebugValue:Ph,useDeferredValue:function(t,n){var r=ye();return Yt===null?zh(r,t,n):Dg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=xh(bi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:Bh,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var r=ye();return Yt!==null?ug(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:Og},Za=null,vl=0;function cu(t){var n=vl;return vl+=1,Za===null&&(Za=[]),Xm(Za,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function hu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function kg(t){var n=t._init;return n(t._payload)}function Bg(t){function n(P,M){if(t){var k=P.deletions;k===null?(P.deletions=[M],P.flags|=16):k.push(M)}}function r(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=vi(P,M),P.index=0,P.sibling=null,P}function f(P,M,k){return P.index=k,t?(k=P.alternate,k!==null?(k=k.index,k<M?(P.flags|=67108866,M):k):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,k,X){return M===null||M.tag!==6?(M=oh(k,P.mode,X),M.return=P,M):(M=h(M,k),M.return=P,M)}function D(P,M,k,X){var ut=k.type;return ut===L?Y(P,M,k.props.children,X,k.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&kg(ut)===M.type)?(M=h(M,k.props),El(M,k),M.return=P,M):(M=Yo(k.type,k.key,k.props,null,P.mode,X),El(M,k),M.return=P,M)}function B(P,M,k,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=uh(k,P.mode,X),M.return=P,M):(M=h(M,k.children||[]),M.return=P,M)}function Y(P,M,k,X,ut){return M===null||M.tag!==7?(M=Jr(k,P.mode,X,ut),M.return=P,M):(M=h(M,k),M.return=P,M)}function $(P,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=oh(""+M,P.mode,k),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return k=Yo(M.type,M.key,M.props,null,P.mode,k),El(k,M),k.return=P,k;case U:return M=uh(M,P.mode,k),M.return=P,M;case b:var X=M._init;return M=X(M._payload),$(P,M,k)}if(Wt(M)||I(M))return M=Jr(M,P.mode,k,null),M.return=P,M;if(typeof M.then=="function")return $(P,cu(M),k);if(M.$$typeof===et)return $(P,Zo(P,M),k);hu(P,M)}return null}function q(P,M,k,X){var ut=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:T(P,M,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return k.key===ut?D(P,M,k,X):null;case U:return k.key===ut?B(P,M,k,X):null;case b:return ut=k._init,k=ut(k._payload),q(P,M,k,X)}if(Wt(k)||I(k))return ut!==null?null:Y(P,M,k,X,null);if(typeof k.then=="function")return q(P,M,cu(k),X);if(k.$$typeof===et)return q(P,M,Zo(P,k),X);hu(P,k)}return null}function j(P,M,k,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(k)||null,T(M,P,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return P=P.get(X.key===null?k:X.key)||null,D(M,P,X,ut);case U:return P=P.get(X.key===null?k:X.key)||null,B(M,P,X,ut);case b:var It=X._init;return X=It(X._payload),j(P,M,k,X,ut)}if(Wt(X)||I(X))return P=P.get(k)||null,Y(M,P,X,ut,null);if(typeof X.then=="function")return j(P,M,k,cu(X),ut);if(X.$$typeof===et)return j(P,M,k,Zo(M,X),ut);hu(M,X)}return null}function Et(P,M,k,X){for(var ut=null,It=null,ft=M,_t=M=0,Me=null;ft!==null&&_t<k.length;_t++){ft.index>_t?(Me=ft,ft=null):Me=ft.sibling;var zt=q(P,ft,k[_t],X);if(zt===null){ft===null&&(ft=Me);break}t&&ft&&zt.alternate===null&&n(P,ft),M=f(zt,M,_t),It===null?ut=zt:It.sibling=zt,It=zt,ft=Me}if(_t===k.length)return r(P,ft),Bt&&ta(P,_t),ut;if(ft===null){for(;_t<k.length;_t++)ft=$(P,k[_t],X),ft!==null&&(M=f(ft,M,_t),It===null?ut=ft:It.sibling=ft,It=ft);return Bt&&ta(P,_t),ut}for(ft=l(ft);_t<k.length;_t++)Me=j(ft,P,_t,k[_t],X),Me!==null&&(t&&Me.alternate!==null&&ft.delete(Me.key===null?_t:Me.key),M=f(Me,M,_t),It===null?ut=Me:It.sibling=Me,It=Me);return t&&ft.forEach(function(fr){return n(P,fr)}),Bt&&ta(P,_t),ut}function yt(P,M,k,X){if(k==null)throw Error(s(151));for(var ut=null,It=null,ft=M,_t=M=0,Me=null,zt=k.next();ft!==null&&!zt.done;_t++,zt=k.next()){ft.index>_t?(Me=ft,ft=null):Me=ft.sibling;var fr=q(P,ft,zt.value,X);if(fr===null){ft===null&&(ft=Me);break}t&&ft&&fr.alternate===null&&n(P,ft),M=f(fr,M,_t),It===null?ut=fr:It.sibling=fr,It=fr,ft=Me}if(zt.done)return r(P,ft),Bt&&ta(P,_t),ut;if(ft===null){for(;!zt.done;_t++,zt=k.next())zt=$(P,zt.value,X),zt!==null&&(M=f(zt,M,_t),It===null?ut=zt:It.sibling=zt,It=zt);return Bt&&ta(P,_t),ut}for(ft=l(ft);!zt.done;_t++,zt=k.next())zt=j(ft,P,_t,zt.value,X),zt!==null&&(t&&zt.alternate!==null&&ft.delete(zt.key===null?_t:zt.key),M=f(zt,M,_t),It===null?ut=zt:It.sibling=zt,It=zt);return t&&ft.forEach(function(NT){return n(P,NT)}),Bt&&ta(P,_t),ut}function Xt(P,M,k,X){if(typeof k=="object"&&k!==null&&k.type===L&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w:t:{for(var ut=k.key;M!==null;){if(M.key===ut){if(ut=k.type,ut===L){if(M.tag===7){r(P,M.sibling),X=h(M,k.props.children),X.return=P,P=X;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&kg(ut)===M.type){r(P,M.sibling),X=h(M,k.props),El(X,k),X.return=P,P=X;break t}r(P,M);break}else n(P,M);M=M.sibling}k.type===L?(X=Jr(k.props.children,P.mode,X,k.key),X.return=P,P=X):(X=Yo(k.type,k.key,k.props,null,P.mode,X),El(X,k),X.return=P,P=X)}return v(P);case U:t:{for(ut=k.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){r(P,M.sibling),X=h(M,k.children||[]),X.return=P,P=X;break t}else{r(P,M);break}else n(P,M);M=M.sibling}X=uh(k,P.mode,X),X.return=P,P=X}return v(P);case b:return ut=k._init,k=ut(k._payload),Xt(P,M,k,X)}if(Wt(k))return Et(P,M,k,X);if(I(k)){if(ut=I(k),typeof ut!="function")throw Error(s(150));return k=ut.call(k),yt(P,M,k,X)}if(typeof k.then=="function")return Xt(P,M,cu(k),X);if(k.$$typeof===et)return Xt(P,M,Zo(P,k),X);hu(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(r(P,M.sibling),X=h(M,k),X.return=P,P=X):(r(P,M),X=oh(k,P.mode,X),X.return=P,P=X),v(P)):r(P,M)}return function(P,M,k,X){try{vl=0;var ut=Xt(P,M,k,X);return Za=null,ut}catch(ft){if(ft===cl||ft===Wo)throw ft;var It=ln(29,ft,null,P.mode);return It.lanes=X,It.return=P,It}finally{}}}var Ja=Bg(!0),qg=Bg(!1),Rn=tt(null),$n=null;function Zi(t){var n=t.alternate;nt(be,be.current&1),nt(Rn,t),$n===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&($n=t)}function jg(t){if(t.tag===22){if(nt(be,be.current),nt(Rn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Ji()}function Ji(){nt(be,be.current),nt(Rn,Rn.current)}function Ri(t){lt(Rn),$n===t&&($n=null),lt(be)}var be=tt(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Mf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function jh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),h=Ki(l);h.payload=n,r!=null&&(h.callback=r),n=Xi(t,h,l),n!==null&&(fn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),h=Ki(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Xi(t,h,l),n!==null&&(fn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(fn(n,t,r),fl(n,t,r))}};function Hg(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!nl(r,l)||!nl(h,f):!0}function Gg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Hh.enqueueReplaceState(n,n.state,null)}function la(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fg(t){du(t)}function Qg(t){console.error(t)}function Yg(t){du(t)}function mu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){mu(t,n)},r}function Xg(t){return t=Ki(t),t.tag=3,t}function $g(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Kg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Kg(n,r,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function N0(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ll(n,r,h,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?gf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===vh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),yf(t,l,h)),!1;case 22:return r.flags|=65536,l===vh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),yf(t,l,h)),!1}throw Error(s(435,r.tag))}return yf(t,l,h),gf(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==fh&&(t=Error(s(422),{cause:l}),sl(Tn(t,r)))):(l!==fh&&(n=Error(s(423),{cause:l}),sl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tn(l,r),h=Gh(t.stateNode,l,h),Ah(t,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Cl===null?Cl=[f]:Cl.push(f),ue!==4&&(ue=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Gh(r.stateNode,l,t),Ah(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xg(h),$g(h,t,r,l),Ah(r,h),!1}r=r.return}while(r!==null);return!1}var Zg=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?qg(n,null,r,l):Ja(n,t.child,r,l)}function Jg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ra(n),l=Ch(t,n,r,v,f,h),T=Dh(),t!==null&&!Ve?(Ih(t,n,h),wi(t,n,h)):(Bt&&T&&ch(n),n.flags|=1,Le(t,n,l,h),n.child)}function Wg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!lh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,tp(t,n,f,l,h)):(t=Yo(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jh(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:nl,r(v,l)&&t.ref===n.ref)return wi(t,n,h)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function tp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Jh(t,h))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,wi(t,n,h)}return Fh(t,n,r,l,h)}function ep(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return np(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(n,f!==null?f.cachePool:null),f!==null?tg(n,f):bh(),jg(n);else return n.lanes=n.childLanes=536870912,np(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Jo(n,f.cachePool),tg(n,f),Ji(),n.memoizedState=null):(t!==null&&Jo(n,null),bh(),Ji());return Le(t,n,h,r),n.child}function np(t,n,r,l){var h=_h();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&Jo(n,null),bh(),jg(n),t!==null&&ll(t,n,l,!0),null}function gu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Fh(t,n,r,l,h){return ra(n),r=Ch(t,n,r,l,void 0,h),l=Dh(),t!==null&&!Ve?(Ih(t,n,h),wi(t,n,h)):(Bt&&l&&ch(n),n.flags|=1,Le(t,n,r,h),n.child)}function ip(t,n,r,l,h,f){return ra(n),n.updateQueue=null,r=ng(n,l,r,h),eg(t),l=Dh(),t!==null&&!Ve?(Ih(t,n,f),wi(t,n,f)):(Bt&&l&&ch(n),n.flags|=1,Le(t,n,r,f),n.child)}function rp(t,n,r,l,h){if(ra(n),n.stateNode===null){var f=ja,v=r.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Eh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?He(v):ja,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(jh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Hh.enqueueReplaceState(f,f.state,null),ml(n,l,f,h),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=la(r,T);f.props=D;var B=f.context,Y=r.contextType;v=ja,typeof Y=="object"&&Y!==null&&(v=He(Y));var $=r.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==v)&&Gg(n,f,l,v),Yi=!1;var q=n.memoizedState;f.state=q,ml(n,l,f,h),dl(),B=n.memoizedState,T||q!==B||Yi?(typeof $=="function"&&(jh(n,r,$,l),B=n.memoizedState),(D=Yi||Hg(n,r,D,l,q,B,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Th(t,n),v=n.memoizedProps,Y=la(r,v),f.props=Y,$=n.pendingProps,q=f.context,B=r.contextType,D=ja,typeof B=="object"&&B!==null&&(D=He(B)),T=r.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==$||q!==D)&&Gg(n,f,l,D),Yi=!1,q=n.memoizedState,f.state=q,ml(n,l,f,h),dl();var j=n.memoizedState;v!==$||q!==j||Yi||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof T=="function"&&(jh(n,r,T,l),j=n.memoizedState),(Y=Yi||Hg(n,r,Y,l,q,j,D)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=D,l=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ja(n,t.child,null,h),n.child=Ja(n,null,r,h)):Le(t,n,r,h),n.memoizedState=f.state,t=n.child):t=wi(t,n,h),t}function ap(t,n,r,l){return al(),n.flags|=256,Le(t,n,r,l),n.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(t){return{baseLanes:t,cachePool:Qm()}}function Kh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function sp(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?Zi(n):Ji(),Bt){var T=oe,D;if(D=T){t:{for(D=T,T=Xn;D.nodeType!==8;){if(!T){T=null;break t}if(D=On(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Wr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},D=ln(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,Ze=n,oe=null,D=!0):D=!1}D||na(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Mf(T)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return T=l.children,l=l.fallback,h?(Ji(),h=n.mode,T=pu({mode:"hidden",children:T},h),l=Jr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Yh(r),h.childLanes=Kh(t,v,r),n.memoizedState=Qh,l):(Zi(n),Xh(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=$h(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),h=l.fallback,T=n.mode,l=pu({mode:"visible",children:l.children},T),h=Jr(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ja(n,t.child,null,r),l=n.child,l.memoizedState=Yh(r),l.childLanes=Kh(t,v,r),n.memoizedState=Qh,n=h);else if(Zi(n),Mf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),n=$h(t,n,r)}else if(Ve||ll(t,n,r,!1),v=(r&t.childLanes)!==0,Ve||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:ki(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,qa(t,l),fn(v,t,l),Zg;T.data==="$?"||gf(),n=$h(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,oe=On(T.nextSibling),Ze=n,Bt=!0,ea=null,Xn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Wr,Ei=t.id,Ti=t.overflow,Wr=n),n=Xh(n,l.children),n.flags|=4096);return n}return h?(Ji(),h=l.fallback,T=n.mode,D=t.child,B=D.sibling,l=vi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?h=vi(B,h):(h=Jr(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Yh(r):(D=T.cachePool,D!==null?(B=Se._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=Qm(),T={baseLanes:T.baseLanes|r,cachePool:D}),h.memoizedState=T,h.childLanes=Kh(t,v,r),n.memoizedState=Qh,l):(Zi(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Xh(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $h(t,n,r){return Ja(n,t.child,null,r),t=Xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function lp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,r)}function Zh(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function op(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,r,n);else if(t.tag===19)lp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(nt(be,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Zh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Zh(n,!0,r,null,f);break;case"together":Zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ll(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function M0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Qi(n,Se,t.memoizedState.cache),al();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sp(t,n,r):(Zi(n),t=wi(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ll(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return op(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,ep(t,n,r);case 24:Qi(n,Se,t.memoizedState.cache)}return wi(t,n,r)}function up(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Jh(t,r)&&(n.flags&128)===0)return Ve=!1,M0(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&km(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")lh(l)?(t=la(l,t),n.tag=1,n=rp(null,n,l,t,r)):(n.tag=0,n=Fh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===mt){n.tag=11,n=Jg(null,n,l,t,r);break t}else if(h===O){n.tag=14,n=Wg(null,n,l,t,r);break t}}throw n=ee(l)||l,Error(s(306,n,""))}}return n;case 0:return Fh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=la(l,n.pendingProps),rp(t,n,l,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Th(t,n),ml(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Qi(n,Se,l),l!==f.cache&&gh(n,[Se],r,!0),dl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ap(t,n,l,r);break t}else if(l!==h){h=Tn(Error(s(424)),n),sl(h),n=ap(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=On(t.firstChild),Ze=n,Bt=!0,ea=null,Xn=!0,r=qg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(al(),l===h){n=wi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return gu(t,n),t===null?(r=dy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Vu(Tt.current).createElement(r),l[Ee]=n,l[me]=t,ze(l,r,t),ce(l),n.stateNode=l):n.memoizedState=dy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&Bt&&(l=n.stateNode=cy(n.type,n.pendingProps,Tt.current),Ze=n,Xn=!0,h=oe,lr(n.type)?(Of=h,oe=On(l.firstChild)):oe=h),Le(t,n,n.pendingProps.children,r),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((h=l=oe)&&(l=sT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,oe=On(l.firstChild),Xn=!1,h=!0):h=!1),h||na(n)),zi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,If(h,f)?l=null:v!==null&&If(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Ch(t,n,b0,null,null,r),Ll._currentValue=h),gu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=oe)&&(r=lT(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ze=n,oe=null,t=!0):t=!1),t||na(n)),null;case 13:return sp(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ja(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Jg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ra(n),h=He(h),l=l(h),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Wg(t,n,n.type,n.pendingProps,r);case 15:return tp(t,n,n.type,n.pendingProps,r);case 19:return op(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=pu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return ep(t,n,r);case 24:return ra(n),l=He(Se),t===null?(h=_h(),h===null&&(h=Jt,f=ph(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Eh(n),Qi(n,Se,h)):((t.lanes&r)!==0&&(Th(t,n),ml(n,null,null,r),dl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qi(n,Se,l)):(l=f.cache,Qi(n,Se,l),l!==h.cache&&gh(n,[Se],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function cp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_y(n)){if(n=Rn.current,n!==null&&((Ut&4194048)===Ut?$n!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==$n))throw hl=vh,Ym;t.flags|=8192}}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zs():536870912,t.lanes|=n,ns|=n)}function Tl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function O0(t,n,r){var l=n.pendingProps;switch(hh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Se),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jm())),re(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(re(n),cp(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),re(n),cp(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),re(n),n.flags&=-16777217),null;case 27:si(n),r=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=pt.current,rl(n)?Bm(n):(t=cy(h,l,r),n.stateNode=t,Ci(n))}return re(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=pt.current,rl(n))Bm(n);else{switch(h=Vu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[Ee]=n,t[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,rl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||iy(t.nodeValue,r)),t||na(n)}else t=Vu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=jm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),yu(n,n.updateQueue),re(n),null;case 4:return Pn(),t===null&&bf(n.stateNode.containerInfo),re(n),null;case 10:return Si(n.type),re(n),null;case 19:if(lt(be),h=n.memoizedState,h===null)return re(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Tl(h,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=fu(t),f!==null){for(n.flags|=128,Tl(h,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zm(r,t),r=r.sibling;return nt(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&gn()>Eu&&(n.flags|=128,l=!0,Tl(h,!1),n.lanes=4194304)}else{if(!l)if(t=fu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*gn()-h.renderingStartTime>Eu&&r!==536870912&&(n.flags|=128,l=!0,Tl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,t=be.current,nt(be,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Ri(n),Rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&yu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&lt(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Se),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function x0(t,n){switch(hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Se),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));al()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(be),null;case 4:return Pn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),Rh(),t!==null&&lt(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Se),null;case 25:return null;default:return null}}function hp(t,n){switch(hh(n),n.tag){case 3:Si(Se),Pn();break;case 26:case 27:case 5:si(n);break;case 4:Pn();break;case 13:Ri(n);break;case 19:lt(be);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),Rh(),t!==null&&lt(aa);break;case 24:Si(Se)}}function Al(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){$t(n,n.return,T)}}function Wi(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=r,B=T;try{B()}catch(Y){$t(h,D,Y)}}}l=l.next}while(l!==f)}}catch(Y){$t(n,n.return,Y)}}function fp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Wm(n,r)}catch(l){$t(t,t.return,l)}}}function dp(t,n,r){r.props=la(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Sl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){$t(t,n,h)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(t,n,h)}else r.current=null}function mp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(t,t.return,h)}}function Wh(t,n,r){try{var l=t.stateNode;eT(l,t.type,r,n),l[me]=n}catch(h){$t(t,t.return,h)}}function gp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||gp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Iu));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function _u(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(_u(t,n,r),t=t.sibling;t!==null;)_u(t,n,r),t=t.sibling}function pp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ze(n,l,r),n[Ee]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var Di=!1,fe=!1,nf=!1,yp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function U0(t,n){if(t=t.containerInfo,Cf=Lu,t=Dm(t),th(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,D=-1,B=0,Y=0,$=t,q=null;e:for(;;){for(var j;$!==r||h!==0&&$.nodeType!==3||(T=v+h),$!==f||l!==0&&$.nodeType!==3||(D=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(j=$.firstChild)!==null;)q=$,$=j;for(;;){if($===t)break e;if(q===r&&++B===h&&(T=v),q===f&&++Y===l&&(D=v),(j=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=j}r=T===-1||D===-1?null:{start:T,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Df={focusedElem:t,selectionRange:r},Lu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=la(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Nf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function _p(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Al(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var h=la(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&fp(r),l&512&&Sl(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Wm(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&pp(r);case 26:case 5:tr(t,r),n===null&&l&4&&mp(r),l&512&&Sl(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&Tp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=G0.bind(null,r),oT(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||fe,h=Di;var f=fe;Di=l,(fe=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Di=h,fe=f}break;case 30:break;default:tr(t,r)}}function vp(t){var n=t.alternate;n!==null&&(t.alternate=null,vp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,We=!1;function Ii(t,n,r){for(r=r.child;r!==null;)Ep(t,n,r),r=r.sibling}function Ep(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||Zn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Zn(r,n);var l=ie,h=We;lr(r.type)&&(ie=r.stateNode,We=!1),Ii(t,n,r),Ml(r.stateNode),ie=l,We=h;break;case 5:fe||Zn(r,n);case 6:if(l=ie,h=We,ie=null,Ii(t,n,r),ie=l,We=h,ie!==null)if(We)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ie!==null&&(We?(t=ie,oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Bl(t)):oy(ie,r.stateNode));break;case 4:l=ie,h=We,ie=r.stateNode.containerInfo,We=!0,Ii(t,n,r),ie=l,We=h;break;case 0:case 11:case 14:case 15:fe||Wi(2,r,n),fe||Wi(4,r,n),Ii(t,n,r);break;case 1:fe||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&dp(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ii(t,n,r),fe=l;break;default:Ii(t,n,r)}}function Tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){$t(n,n.return,r)}}function L0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yp),n;default:throw Error(s(435,t.tag))}}function rf(t,n){var r=L0(t);n.forEach(function(l){var h=F0.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(lr(T.type)){ie=T.stateNode,We=!1;break t}break;case 5:ie=T.stateNode,We=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,We=!0;break t}T=T.return}if(ie===null)throw Error(s(160));Ep(f,v,h),ie=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ap(n,t),n=n.sibling}var Mn=null;function Ap(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Wi(3,t,t.return),Al(3,t),Wi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(fe||r===null||Zn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Mn;if(on(n,t),un(t),l&512&&(fe||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Lr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,l,r),f[Ee]=t,ce(f),l=f;break t;case"link":var v=py("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),ze(f,l,r),h.head.appendChild(f);break;case"meta":if(v=py("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),ze(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ce(f),l=f}t.stateNode=l}else yy(h,t.type,t.stateNode);else t.stateNode=gy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?yy(h,t.type,t.stateNode):gy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(fe||r===null||Zn(r,r.return)),r!==null&&l&4&&Wh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(fe||r===null||Zn(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(j){$t(t,t.return,j)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wh(t,h,r!==null?r.memoizedProps:h)),l&1024&&(nf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){$t(t,t.return,j)}}break;case 3:if(Ou=null,h=Mn,Mn=Nu(n.containerInfo),on(n,t),Mn=h,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(j){$t(t,t.return,j)}nf&&(nf=!1,Sp(t));break;case 4:l=Mn,Mn=Nu(t.stateNode.containerInfo),on(n,t),un(t),Mn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cf=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:h=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,B=Di,Y=fe;if(Di=B||h,fe=Y||D,on(n,t),fe=Y,Di=B,un(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||Di||fe||oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var $=D.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(j){$t(D,D.return,j)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(j){$t(D,D.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rf(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(gp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=tf(t);_u(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var T=tf(t);_u(t,T,v);break;case 3:case 4:var D=r.stateNode.containerInfo,B=tf(t);ef(t,B,D);break;default:throw Error(s(161))}}catch(Y){$t(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_p(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),oa(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dp(n,n.return,r),oa(n);break;case 27:Ml(n.stateNode);case 26:case 5:Zn(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:er(h,f,r),Al(4,f);break;case 1:if(er(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Jm(D[h],T)}catch(B){$t(l,l.return,B)}}r&&v&64&&fp(f),Sl(f,f.return);break;case 27:pp(f);case 26:case 5:er(h,f,r),r&&l===null&&v&4&&mp(f),Sl(f,f.return);break;case 12:er(h,f,r);break;case 13:er(h,f,r),r&&v&4&&Tp(h,f);break;case 22:f.memoizedState===null&&er(h,f,r),Sl(f,f.return);break;case 30:break;default:er(h,f,r)}n=n.sibling}}function af(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ol(r))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(t,n,r,l),n=n.sibling}function bp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),h&2048&&Al(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){$t(n,n.return,D)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):bl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Wa(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&af(v,n);break;case 24:Jn(t,n,r,l),h&2048&&sf(n.alternate,n);break;default:Jn(t,n,r,l)}}function Wa(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(f,v,T,D,h),Al(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Wa(f,v,T,D,h):bl(f,v):(Y._visibility|=2,Wa(f,v,T,D,h)),h&&B&2048&&af(v.alternate,v);break;case 24:Wa(f,v,T,D,h),h&&B&2048&&sf(v.alternate,v);break;default:Wa(f,v,T,D,h)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:bl(r,l),h&2048&&af(l.alternate,l);break;case 24:bl(r,l),h&2048&&sf(l.alternate,l);break;default:bl(r,l)}n=n.sibling}}var Rl=8192;function ts(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 26:ts(t),t.flags&Rl&&t.memoizedState!==null&&TT(Mn,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Mn;Mn=Nu(t.stateNode.containerInfo),ts(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,ts(t),Rl=n):ts(t));break;default:ts(t)}}function wp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Dp(l,t)}wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cp(t),t=t.sibling}function Cp(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):wl(t);break;default:wl(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Dp(l,t)}wp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),vu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function Dp(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(vp(l),l===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var P0={getCacheForType:function(t){var n=He(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},z0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Vt=null,Ut=0,Ft=0,cn=null,nr=!1,es=!1,lf=!1,Vi=0,ue=0,ir=0,ua=0,of=0,wn=0,ns=0,Cl=null,tn=null,uf=!1,cf=0,Eu=1/0,Tu=null,rr=null,Pe=0,ar=null,is=null,rs=0,hf=0,ff=null,Ip=null,Dl=0,df=null;function hn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(F.T!==null){var t=Fa;return t!==0?t:Ef()}return Bi()}function Vp(){wn===0&&(wn=(Ut&536870912)===0||Bt?Ps():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(as(t,0),sr(t,Ut,wn,!1)),oi(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ua|=r),ue===4&&sr(t,Ut,wn,!1)),Wn(t))}function Np(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ur(t,n),h=l?q0(t,n):pf(t,n,!0),f=l;do{if(h===0){es&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!k0(r)){h=pf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Cl;var D=T.current.memoizedState.isDehydrated;if(D&&(as(T,v).flags|=256),v=pf(T,v,!1),v!==2){if(lf&&!D){T.errorRecoveryDisabledLanes|=f,ua|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){as(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,wn,!nr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cf+300-gn(),10<h)){if(sr(l,n,wn,!nr),Aa(l,0,!0)!==0)break t;l.timeoutHandle=sy(Mp.bind(null,l,r,tn,Tu,uf,n,wn,ua,ns,nr,f,2,-0,0),h);break t}Mp(l,r,tn,Tu,uf,n,wn,ua,ns,nr,f,0,-0,0)}}break}while(!0);Wn(t)}function Mp(t,n,r,l,h,f,v,T,D,B,Y,$,q,j){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:ET},Rp(n),$=AT(),$!==null)){t.cancelPendingCommit=$(kp.bind(null,t,n,f,r,l,h,v,T,D,Y,1,q,j)),sr(t,f,v,!B);return}kp(t,n,f,r,l,h,v,T,D)}function k0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~of,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-je(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&zn(t,r,n)}function Au(){return(Gt&6)===0?(Il(0),!1):!0}function mf(){if(Vt!==null){if(Ft===0)var t=Vt.return;else t=Vt,Ai=ia=null,Vh(t),Za=null,vl=0,t=Vt;for(;t!==null;)hp(t.alternate,t),t=t.return;Vt=null}}function as(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,iT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),mf(),Jt=t,Vt=r=vi(t.current,null),Ut=n,Ft=0,cn=null,nr=!1,es=Ur(t,n),lf=!1,ns=wn=of=ua=ir=ue=0,tn=Cl=null,uf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-je(l),f=1<<h;n|=t[h],l&=~f}return Vi=n,Go(),r}function Op(t,n){wt=null,F.H=uu,n===cl||n===Wo?(n=$m(),Ft=3):n===Ym?(n=$m(),Ft=4):Ft=n===Zg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Vt===null&&(ue=1,mu(t,Tn(n,t.current)))}function xp(){var t=F.H;return F.H=uu,t===null?uu:t}function Up(){var t=F.A;return F.A=P0,t}function gf(){ue=4,nr||(Ut&4194048)!==Ut&&Rn.current!==null||(es=!0),(ir&134217727)===0&&(ua&134217727)===0||Jt===null||sr(Jt,Ut,wn,!1)}function pf(t,n,r){var l=Gt;Gt|=2;var h=xp(),f=Up();(Jt!==t||Ut!==n)&&(Tu=null,as(t,n)),n=!1;var v=ue;t:do try{if(Ft!==0&&Vt!==null){var T=Vt,D=cn;switch(Ft){case 8:mf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var B=Ft;if(Ft=0,cn=null,ss(t,T,D,B),r&&es){v=0;break t}break;default:B=Ft,Ft=0,cn=null,ss(t,T,D,B)}}B0(),v=ue;break}catch(Y){Op(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ai=ia=null,Gt=l,F.H=h,F.A=f,Vt===null&&(Jt=null,Ut=0,Go()),v}function B0(){for(;Vt!==null;)Lp(Vt)}function q0(t,n){var r=Gt;Gt|=2;var l=xp(),h=Up();Jt!==t||Ut!==n?(Tu=null,Eu=gn()+500,as(t,n)):es=Ur(t,n);t:do try{if(Ft!==0&&Vt!==null){n=Vt;var f=cn;e:switch(Ft){case 1:Ft=0,cn=null,ss(t,n,f,1);break;case 2:case 9:if(Km(f)){Ft=0,cn=null,Pp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),Wn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Km(f)?(Ft=0,cn=null,Pp(n)):(Ft=0,cn=null,ss(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var T=Vt;if(!v||_y(v)){Ft=0,cn=null;var D=T.sibling;if(D!==null)Vt=D;else{var B=T.return;B!==null?(Vt=B,Su(B)):Vt=null}break e}}Ft=0,cn=null,ss(t,n,f,5);break;case 6:Ft=0,cn=null,ss(t,n,f,6);break;case 8:mf(),ue=6;break t;default:throw Error(s(462))}}j0();break}catch(Y){Op(t,Y)}while(!0);return Ai=ia=null,F.H=l,F.A=h,Gt=r,Vt!==null?0:(Jt=null,Ut=0,Go(),ue)}function j0(){for(;Vt!==null&&!Os();)Lp(Vt)}function Lp(t){var n=up(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?Su(t):Vt=n}function Pp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ip(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=ip(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Vh(n);default:hp(r,n),n=Vt=zm(n,Vi),n=up(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?Su(t):Vt=n}function ss(t,n,r,l){Ai=ia=null,Vh(n),Za=null,vl=0;var h=n.return;try{if(N0(t,h,n,r,Ut)){ue=1,mu(t,Tn(r,t.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;ue=1,mu(t,Tn(r,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:es||(Ut&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){zp(n,nr);return}t=n.return;var r=O0(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ue===0&&(ue=5)}function zp(t,n){do{var r=x0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);ue=6,Vt=null}function kp(t,n,r,l,h,f,v,T,D){t.cancelPendingCommit=null;do bu();while(Pe!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=ah,ks(t,r,f,v,T,D),t===Jt&&(Vt=Jt=null,Ut=0),is=n,ar=t,rs=r,hf=f,ff=h,Ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Q0(Nr,function(){return Gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=st.p,st.p=2,v=Gt,Gt|=4;try{U0(t,n,r)}finally{Gt=v,st.p=h,F.T=l}}Pe=1,Bp(),qp(),jp()}}function Bp(){if(Pe===1){Pe=0;var t=ar,n=is,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{Ap(n,t);var f=Df,v=Dm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Cm(T.ownerDocument.documentElement,T)){if(D!==null&&th(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var j=q.getSelection(),Et=T.textContent.length,yt=Math.min(D.start,Et),Xt=D.end===void 0?yt:Math.min(D.end,Et);!j.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var P=wm(T,yt),M=wm(T,Xt);if(P&&M&&(j.rangeCount!==1||j.anchorNode!==P.node||j.anchorOffset!==P.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var k=$.createRange();k.setStart(P.node,P.offset),j.removeAllRanges(),yt>Xt?(j.addRange(k),j.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),j.addRange(k))}}}}for($=[],j=T;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Lu=!!Cf,Df=Cf=null}finally{Gt=h,st.p=l,F.T=r}}t.current=n,Pe=2}}function qp(){if(Pe===2){Pe=0;var t=ar,n=is,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{_p(t,n.alternate,n)}finally{Gt=h,st.p=l,F.T=r}}Pe=3}}function jp(){if(Pe===4||Pe===3){Pe=0,vo();var t=ar,n=is,r=rs,l=Ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,is=ar=null,Hp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),Sa(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=st.p,st.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{F.T=n,st.p=h}}(rs&3)!==0&&bu(),Wn(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===df?Dl++:(Dl=0,df=t):Dl=0,Il(0)}}function Hp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function bu(t){return Bp(),qp(),jp(),Gp()}function Gp(){if(Pe!==5)return!1;var t=ar,n=hf;hf=0;var r=Sa(rs),l=F.T,h=st.p;try{st.p=32>r?32:r,F.T=null,r=ff,ff=null;var f=ar,v=rs;if(Pe=0,is=ar=null,rs=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Cp(f.current),bp(f,f.current,v,r),Gt=T,Il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{st.p=h,F.T=l,Hp(t,n)}}function Fp(t,n,r){n=Tn(r,n),n=Gh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(oi(t,2),Wn(t))}function $t(t,n,r){if(t.tag===3)Fp(t,t,r);else for(;n!==null;){if(n.tag===3){Fp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Tn(r,t),r=Xg(2),l=Xi(n,r,2),l!==null&&($g(r,l,n,t),oi(l,2),Wn(l));break}}n=n.return}}function yf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new z0;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(lf=!0,h.add(r),t=H0.bind(null,t,n,r),n.then(t,t))}function H0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>gn()-cf?(Gt&2)===0&&as(t,0):of|=r,ns===Ut&&(ns=0)),Wn(t)}function Qp(t,n){n===0&&(n=zs()),t=qa(t,n),t!==null&&(oi(t,n),Wn(t))}function G0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Qp(t,r)}function F0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Qp(t,r)}function Q0(t,n){return Ir(t,n)}var Ru=null,ls=null,_f=!1,wu=!1,vf=!1,ca=0;function Wn(t){t!==ls&&t.next===null&&(ls===null?Ru=ls=t:ls=ls.next=t),wu=!0,_f||(_f=!0,K0())}function Il(t,n){if(!vf&&wu){vf=!0;do for(var r=!1,l=Ru;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$p(l,f))}else f=Ut,f=Aa(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ur(l,f)||(r=!0,$p(l,f));l=l.next}while(r);vf=!1}}function Y0(){Yp()}function Yp(){wu=_f=!1;var t=0;ca!==0&&(nT()&&(t=ca),ca=0);for(var n=gn(),r=null,l=Ru;l!==null;){var h=l.next,f=Kp(l,n);f===0?(l.next=null,r===null?Ru=h:r.next=h,h===null&&(ls=r)):(r=l,(t!==0||(f&3)!==0)&&(wu=!0)),l=h}Il(t)}function Kp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-je(f),T=1<<v,D=h[v];D===-1?((T&r)===0||(T&l)!==0)&&(h[v]=Ls(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,r=Ut,r=Aa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ur(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),Sa(r)){case 2:case 8:r=Ea;break;case 32:r=Nr;break;case 268435456:r=Ta;break;default:r=Nr}return l=Xp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Xp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bu()&&t.callbackNode!==r)return null;var l=Ut;return l=Aa(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Np(t,l,n),Kp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Xp.bind(null,t):null)}function $p(t,n){if(bu())return null;Np(t,n,!0)}function K0(){rT(function(){(Gt&6)!==0?Ir(xs,Y0):Yp()})}function Ef(){return ca===0&&(ca=Ps()),ca}function Zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Jp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function X0(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Zp((h[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?Zp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Va("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var D=v?Jp(h,v):new FormData(h);kh(r,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=v?Jp(h,v):new FormData(h),kh(r,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Tf=0;Tf<rh.length;Tf++){var Af=rh[Tf],$0=Af.toLowerCase(),Z0=Af[0].toUpperCase()+Af.slice(1);Nn($0,"on"+Z0)}Nn(Nm,"onAnimationEnd"),Nn(Mm,"onAnimationIteration"),Nn(Om,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(m0,"onTransitionRun"),Nn(g0,"onTransitionStart"),Nn(p0,"onTransitionCancel"),Nn(xm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Wp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(Y){du(Y)}h.currentTarget=null,f=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,B=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(Y){du(Y)}h.currentTarget=null,f=D}}}}function Nt(t,n){var r=n[qs];r===void 0&&(r=n[qs]=new Set);var l=t+"__bubble";r.has(l)||(ty(n,t,2,!1),r.add(l))}function Sf(t,n,r){var l=0;n&&(l|=4),ty(r,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[Cu]){t[Cu]=!0,js.forEach(function(r){r!=="selectionchange"&&(J0.has(r)||Sf(r,!1,t),Sf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,Sf("selectionchange",!1,n))}}function ty(t,n,r,l){switch(by(n)){case 2:var h=RT;break;case 8:h=wT;break;default:h=zf}r=h.bind(null,n,r,t),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Rf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ui(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Io(function(){var B=f,Y=_n(r),$=[];t:{var q=Um.get(t);if(q!==void 0){var j=Va,Et=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":j=La;break;case"focusin":Et="focus",j=Oa;break;case"focusout":Et="blur",j=Oa;break;case"beforeblur":case"afterblur":j=Oa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Po;break;case Nm:case Mm:case Om:j=xa;break;case xm:j=ko;break;case"scroll":case"scrollend":j=Vo;break;case"wheel":j=Pa;break;case"copy":case"cut":case"paste":j=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=tl;break;case"toggle":case"beforetoggle":j=qo}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),P=yt?q!==null?q+"Capture":null:q;yt=[];for(var M=B,k;M!==null;){var X=M;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||P===null||(X=Hr(M,P),X!=null&&yt.push(Nl(M,X,k))),Xt)break;M=M.return}0<yt.length&&(q=new j(q,Et,null,r,Y),$.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",q&&r!==di&&(Et=r.relatedTarget||r.fromElement)&&(ui(Et)||Et[pn]))break t;if((j||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,j?(Et=r.relatedTarget||r.toElement,j=B,Et=Et?ui(Et):null,Et!==null&&(Xt=c(Et),yt=Et.tag,Et!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(j=null,Et=B),j!==Et)){if(yt=En,X="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=tl,X="onPointerLeave",P="onPointerEnter",M="pointer"),Xt=j==null?q:Bn(j),k=Et==null?q:Bn(Et),q=new yt(X,M+"leave",j,r,Y),q.target=Xt,q.relatedTarget=k,X=null,ui(Y)===B&&(yt=new yt(P,M+"enter",Et,r,Y),yt.target=k,yt.relatedTarget=Xt,X=yt),Xt=X,j&&Et)e:{for(yt=j,P=Et,M=0,k=yt;k;k=os(k))M++;for(k=0,X=P;X;X=os(X))k++;for(;0<M-k;)yt=os(yt),M--;for(;0<k-M;)P=os(P),k--;for(;M--;){if(yt===P||P!==null&&yt===P.alternate)break e;yt=os(yt),P=os(P)}yt=null}else yt=null;j!==null&&ey($,q,j,yt,!1),Et!==null&&Xt!==null&&ey($,Xt,Et,yt,!0)}}t:{if(q=B?Bn(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var ut=Em;else if(Ae(q))if(Tm)ut=h0;else{ut=u0;var It=o0}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ys(B.elementType)&&(ut=Em):ut=c0;if(ut&&(ut=ut(t,B))){_i($,ut,r,Y);break t}It&&It(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Gi(q,"number",q.value)}switch(It=B?Bn(B):window,t){case"focusin":(Ae(It)||It.contentEditable==="true")&&(za=It,eh=B,il=null);break;case"focusout":il=eh=za=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Im($,r,Y);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":Im($,r,Y)}var ft;if(Yn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?G(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(_&&r.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(ft=Xs()):(Hn=Y,Fi="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),It=Du(B,_t),0<It.length&&(_t=new Js(_t,t,null,r,Y),$.push({event:_t,listeners:It}),ft?_t.data=ft:(ft=rt(r),ft!==null&&(_t.data=ft)))),(ft=m?Te(t,r):xt(t,r))&&(_t=Du(B,"onBeforeInput"),0<_t.length&&(It=new Js("onBeforeInput","beforeinput",null,r,Y),$.push({event:It,listeners:_t}),It.data=ft)),X0($,t,B,r,Y)}Wp($,n)})}function Nl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Du(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hr(t,r),h!=null&&l.unshift(Nl(t,h,f)),h=Hr(t,n),h!=null&&l.push(Nl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=Hr(r,f),B!=null&&v.unshift(Nl(r,B,D))):h||(B=Hr(r,f),B!=null&&v.push(Nl(r,B,D)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var W0=/\r\n?/g,tT=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(W0,`
`).replace(tT,"")}function iy(t,n){return n=ny(n),ny(t)===n}function Iu(){}function Kt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Qs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ia(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ia(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Iu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Kc.get(r)||r,Hi(t,r,l))}}function wf(t,n,r,l,h,f){switch(r){case"style":Qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}h&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var T=f=v=h=null,D=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Y,r,null)}}Br(t,f,T,D,B,v,h,!1),Da(t);return;case"select":Nt("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(t,n,v,T,r,null)}qr(t,l,h,f),Da(t);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,D,l,r,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Nt(Vl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,B,l,r,null)}return;default:if(Ys(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&wf(t,n,Y,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Kt(t,n,T,l,r,null))}function eT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,D=null,B=null,Y=null;for(j in r){var $=r[j];if(r.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(j)||Kt(t,n,j,null,l,$)}}for(var q in l){var j=l[q];if($=r[q],l.hasOwnProperty(q)&&(j!=null||$!=null))switch(q){case"type":f=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==$&&Kt(t,n,q,j,l,$)}}an(t,v,T,D,B,Y,f,h);return;case"select":j=v=T=q=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":j=D;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=r[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==D&&Kt(t,n,h,f,l,D)}n=T,r=v,l=j,q!=null?fi(t,!!r,q,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":j=q=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Qt(t,q,j);return;case"option":for(var Et in r)if(q=r[Et],r.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Kt(t,n,Et,null,l,q)}for(D in l)if(q=l[D],j=r[D],l.hasOwnProperty(D)&&q!==j&&(q!=null||j!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,D,q,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)q=r[yt],r.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&Kt(t,n,yt,null,l,q);for(B in l)if(q=l[B],j=r[B],l.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,B,q,l,j)}return;default:if(Ys(n)){for(var Xt in r)q=r[Xt],r.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&wf(t,n,Xt,void 0,l,q);for(Y in l)q=l[Y],j=r[Y],!l.hasOwnProperty(Y)||q===j||q===void 0&&j===void 0||wf(t,n,Y,q,l,j);return}}for(var P in r)q=r[P],r.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Kt(t,n,P,null,l,q);for($ in l)q=l[$],j=r[$],!l.hasOwnProperty($)||q===j||q==null&&j==null||Kt(t,n,$,q,l,j)}var Cf=null,Df=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function If(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vf=null;function nT(){var t=window.event;return t&&t.type==="popstate"?t===Vf?!1:(Vf=t,!0):(Vf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(aT)}:sy;function aT(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function oy(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Ml(v.documentElement),r&2&&Ml(v.body),r&4)for(r=v.head,Ml(r),v=r.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[Lr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}if(h===0){t.removeChild(f),Bl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Bl(n)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nf(r),ji(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function sT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function lT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function oT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Of=null;function uy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function cy(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var Cn=new Map,hy=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=st.d;st.d={f:uT,r:cT,D:hT,C:fT,L:dT,m:mT,X:pT,S:gT,M:yT};function uT(){var t=Ni.f(),n=Au();return t||n}function cT(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Ni.r(t)}var us=typeof document>"u"?null:document;function fy(t,n,r){var l=us;if(l&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),hy.has(h)||(hy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function hT(t){Ni.D(t),fy("dns-prefetch",t,null)}function fT(t,n){Ni.C(t,n),fy("preconnect",t,n)}function dT(t,n,r){Ni.L(t,n,r);var l=us;if(l&&t&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ge(r.imageSizes)+'"]')):h+='[href="'+ge(t)+'"]';var f=h;switch(n){case"style":f=cs(t);break;case"script":f=hs(t)}Cn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(xl(f))||(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function mT(t,n){Ni.m(t,n);var r=us;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!Cn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xl(f)))return}l=r.createElement("link"),ze(l,"link",t),ce(l),r.head.appendChild(l)}}}function gT(t,n,r){Ni.S(t,n,r);var l=us;if(l&&t){var h=Ke(l).hoistableStyles,f=cs(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ol(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&xf(t,r);var D=v=l.createElement("link");ce(D),ze(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function pT(t,n){Ni.X(t,n);var r=us;if(r&&t){var l=Ke(r).hoistableScripts,h=hs(t),f=l.get(h);f||(f=r.querySelector(xl(h)),f||(t=E({src:t,async:!0},n),(n=Cn.get(h))&&Uf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yT(t,n){Ni.M(t,n);var r=us;if(r&&t){var l=Ke(r).hoistableScripts,h=hs(t),f=l.get(h);f||(f=r.querySelector(xl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Cn.get(h))&&Uf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function dy(t,n,r,l){var h=(h=Tt.current)?Nu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=cs(r.href),r=Ke(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cs(r.href);var f=Ke(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Ol(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||_T(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hs(r),r=Ke(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+ge(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function _T(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ce(n),t.head.appendChild(n))}function hs(t){return'[src="'+ge(t)+'"]'}function xl(t){return"script[async]"+t}function gy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ze(l,"style",h),Mu(l,r.precedence,t),n.instance=l;case"stylesheet":h=cs(r.href);var f=t.querySelector(Ol(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=my(r),(h=Cn.get(h))&&xf(l,h),f=(t.ownerDocument||t).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),ze(f,"link",l),n.state.loading|=4,Mu(f,r.precedence,t),n.instance=f;case"script":return f=hs(r.src),(h=t.querySelector(xl(f)))?(n.instance=h,ce(h),h):(l=r,(h=Cn.get(f))&&(l=E({},r),Uf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ce(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mu(l,r.precedence,t));return n.instance}function Mu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function py(t,n,r){if(Ou===null){var l=new Map,h=Ou=new Map;h.set(r,l)}else h=Ou,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Lr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function yy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function vT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _y(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function ET(){}function TT(t,n,r){if(Ul===null)throw Error(s(475));var l=Ul;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=cs(r.href),f=t.querySelector(Ol(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=my(r),(h=Cn.get(h))&&xf(r,h),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function AT(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&Lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,n.forEach(ST,t),Uu=null,xu.call(t))}function ST(t,n){if(!(n.state.loading&4)){var r=Uu.get(t);if(r)var l=r.get(null);else{r=new Map,Uu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=xu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:et,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function bT(t,n,r,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vy(t,n,r,l,h,f,v,T,D,B,Y,$){return t=new bT(t,n,r,v,T,D,B,$),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Eh(f),t}function Ey(t){return t?(t=ja,t):ja}function Ty(t,n,r,l,h,f){h=Ey(h),l.context===null?l.context=h:l.pendingContext=h,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(fn(r,t,n),fl(r,t,n))}function Ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Pf(t,n){Ay(t,n),(t=t.alternate)&&Ay(t,n)}function Sy(t){if(t.tag===13){var n=qa(t,67108864);n!==null&&fn(n,t,67108864),Pf(t,67108864)}}var Lu=!0;function RT(t,n,r,l){var h=F.T;F.T=null;var f=st.p;try{st.p=2,zf(t,n,r,l)}finally{st.p=f,F.T=h}}function wT(t,n,r,l){var h=F.T;F.T=null;var f=st.p;try{st.p=8,zf(t,n,r,l)}finally{st.p=f,F.T=h}}function zf(t,n,r,l){if(Lu){var h=kf(l);if(h===null)Rf(t,n,l,Pu,r),Ry(t,l);else if(DT(h,t,n,r,l))l.stopPropagation();else if(Ry(t,l),n&4&&-1<CT.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-je(v);T.entanglements[1]|=D,v&=~D}Wn(f),(Gt&6)===0&&(Eu=gn()+500,Il(0))}}break;case 13:T=qa(f,2),T!==null&&fn(T,f,2),Au(),Pf(f,2)}if(f=kf(l),f===null&&Rf(t,n,l,Pu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Rf(t,n,l,null,r)}}function kf(t){return t=_n(t),Bf(t)}var Pu=null;function Bf(t){if(Pu=null,t=ui(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function by(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case xs:return 2;case Ea:return 8;case Nr:case Hc:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var qf=!1,or=null,ur=null,cr=null,Pl=new Map,zl=new Map,hr=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function kl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&Sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function DT(t,n,r,l,h){switch(n){case"focusin":return or=kl(or,t,n,r,l,h),!0;case"dragenter":return ur=kl(ur,t,n,r,l,h),!0;case"mouseover":return cr=kl(cr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,kl(Pl.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,kl(zl.get(f)||null,t,n,r,l,h)),!0}return!1}function wy(t){var n=ui(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Ao(t.priority,function(){if(r.tag===13){var l=hn();l=ki(l);var h=qa(r,l);h!==null&&fn(h,r,l),Pf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=kn(r),n!==null&&Sy(n),t.blockedOn=r,!1;n.shift()}return!0}function Cy(t,n,r){zu(t)&&r.delete(n)}function IT(){qf=!1,or!==null&&zu(or)&&(or=null),ur!==null&&zu(ur)&&(ur=null),cr!==null&&zu(cr)&&(cr=null),Pl.forEach(Cy),zl.forEach(Cy)}function ku(t,n){t.blockedOn===n&&(t.blockedOn=null,qf||(qf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,IT)))}var Bu=null;function Dy(t){Bu!==t&&(Bu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Bf(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,kh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Bl(t){function n(D){return ku(D,t)}or!==null&&ku(or,t),ur!==null&&ku(ur,t),cr!==null&&ku(cr,t),Pl.forEach(n),zl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)wy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[me]||null;if(typeof f=="function")v||Dy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[me]||null)T=v.formAction;else if(Bf(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Dy(r)}}}function jf(t){this._internalRoot=t}qu.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Ty(r,l,t,n,null,null)},qu.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ty(t.current,2,null,t,null,null),Au(),n[pn]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&wy(t)}};var Iy=e.version;if(Iy!=="19.1.0")throw Error(s(527,Iy,"19.1.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var VT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{le=ju.inject(VT),Ht=ju}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Fg,f=Qg,v=Yg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=vy(t,1,!1,null,null,r,l,h,f,v,T,null),t[pn]=n.current,bf(t),new jf(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=Fg,v=Qg,T=Yg,D=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=vy(t,1,!0,n,r??null,l,h,f,v,T,D,B),n.context=Ey(null),r=n.current,l=hn(),l=ki(l),h=Ki(l),h.callback=null,Xi(r,h,l),r=l,n.current.lanes=r,oi(n,r),Wn(n),t[pn]=n.current,bf(t),new qu(n)},jl.version="19.1.0",jl}var ky;function BT(){if(ky)return Ff.exports;ky=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ff.exports=kT(),Ff.exports}var qT=BT(),Hl={},By;function jT(){if(By)return Hl;By=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=d,Hl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,U){const L=new c,K=w.length;if(K<2)return L;const H=(U==null?void 0:U.decode)||E;let J=0;do{const at=w.indexOf("=",J);if(at===-1)break;const et=w.indexOf(";",J),mt=et===-1?K:et;if(at>mt){J=w.lastIndexOf(";",at-1)+1;continue}const ht=g(w,J,at),Rt=p(w,at,ht),O=w.slice(ht,Rt);if(L[O]===void 0){let b=g(w,at+1,mt),C=p(w,mt,b);const N=H(w.slice(b,C));L[O]=N}J=mt+1}while(J<K);return L}function g(w,U,L){do{const K=w.charCodeAt(U);if(K!==32&&K!==9)return U}while(++U<L);return L}function p(w,U,L){for(;U>L;){const K=w.charCodeAt(--U);if(K!==32&&K!==9)return U+1}return L}function y(w,U,L){const K=(L==null?void 0:L.encode)||encodeURIComponent;if(!a.test(w))throw new TypeError(`argument name is invalid: ${w}`);const H=K(U);if(!e.test(H))throw new TypeError(`argument val is invalid: ${U}`);let J=w+"="+H;if(!L)return J;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);J+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);J+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);J+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);J+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(J+="; HttpOnly"),L.secure&&(J+="; Secure"),L.partitioned&&(J+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":J+="; Priority=Low";break;case"medium":J+="; Priority=Medium";break;case"high":J+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":J+="; SameSite=Strict";break;case"lax":J+="; SameSite=Lax";break;case"none":J+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return J}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function S(w){return o.call(w)==="[object Date]"}return Hl}jT();var qy="popstate";function HT(a={}){function e(o,c){let{pathname:d="/",search:g="",hash:p=""}=pa(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),ad("",{pathname:d,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof c=="string"?c:Jl(c))}function s(o,c){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return FT(e,i,s,a)}function ae(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Un(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GT(){return Math.random().toString(36).substring(2,10)}function jy(a,e){return{usr:a.state,key:a.key,idx:e}}function ad(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:i,key:e&&e.key||s||GT()}}function Jl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function pa(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function FT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function S(){g="POP";let H=E(),J=H==null?null:H-y;y=H,p&&p({action:g,location:K.location,delta:J})}function w(H,J){g="PUSH";let at=ad(K.location,H,J);i&&i(at,H),y=E()+1;let et=jy(at,y),mt=K.createHref(at);try{d.pushState(et,"",mt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(mt)}c&&p&&p({action:g,location:K.location,delta:1})}function U(H,J){g="REPLACE";let at=ad(K.location,H,J);i&&i(at,H),y=E();let et=jy(at,y),mt=K.createHref(at);d.replaceState(et,"",mt),c&&p&&p({action:g,location:K.location,delta:0})}function L(H){return QT(H)}let K={get action(){return g},get location(){return a(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qy,S),p=H,()=>{o.removeEventListener(qy,S),p=null}},createHref(H){return e(o,H)},createURL:L,encodeLocation(H){let J=L(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:U,go(H){return d.go(H)}};return K}function QT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ae(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Jl(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function iv(a,e,i="/"){return YT(a,e,i,!1)}function YT(a,e,i,s){let o=typeof e=="string"?pa(e):e,c=Oi(o.pathname||"/",i);if(c==null)return null;let d=rv(a);KT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=aA(c);g=iA(d[p],y,s)}return g}function rv(a,e=[],i=[],s=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ae(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Mi([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),rv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:eA(y,c.index),routesMeta:E})};return a.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of av(c.path))o(c,d,p)}),e}function av(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=av(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function KT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:nA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var XT=/^:[\w-]+$/,$T=3,ZT=2,JT=1,WT=10,tA=-2,Hy=a=>a==="*";function eA(a,e){let i=a.split("/"),s=i.length;return i.some(Hy)&&(s+=tA),e&&(s+=ZT),i.filter(o=>!Hy(o)).reduce((o,c)=>o+(XT.test(c)?$T:c===""?JT:WT),s)}function nA(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function iA(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Mi([c,S.pathname]),pathnameBase:uA(Mi([c,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(c=Mi([c,S.pathnameBase]))}return d}function sc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=rA(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let L=g[w]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const U=g[w];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function rA(a,e=!1,i=!0){Un(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aA(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Oi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function sA(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?pa(a):a;return{pathname:i?i.startsWith("/")?i:lA(i,e):e,search:cA(s),hash:hA(o)}}function lA(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Xf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oA(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function sv(a){let e=oA(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function lv(a,e,i,s=!1){let o;typeof a=="string"?o=pa(a):(o={...a},ae(!o.pathname||!o.pathname.includes("?"),Xf("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),Xf("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),Xf("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}g=S>=0?e[S]:"/"}let p=sA(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Mi=a=>a.join("/").replace(/\/\/+/g,"/"),uA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),cA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,hA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function fA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var ov=["POST","PUT","PATCH","DELETE"];new Set(ov);var dA=["GET",...ov];new Set(dA);var Rs=Q.createContext(null);Rs.displayName="DataRouter";var Sc=Q.createContext(null);Sc.displayName="DataRouterState";var uv=Q.createContext({isTransitioning:!1});uv.displayName="ViewTransition";var mA=Q.createContext(new Map);mA.displayName="Fetchers";var gA=Q.createContext(null);gA.displayName="Await";var ri=Q.createContext(null);ri.displayName="Navigation";var lo=Q.createContext(null);lo.displayName="Location";var ai=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Nd=Q.createContext(null);Nd.displayName="RouteError";function pA(a,{relative:e}={}){ae(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(ri),{hash:o,pathname:c,search:d}=co(a,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Mi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function oo(){return Q.useContext(lo)!=null}function ya(){return ae(oo(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(lo).location}var cv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hv(a){Q.useContext(ri).static||Q.useLayoutEffect(a)}function uo(){let{isDataRoute:a}=Q.useContext(ai);return a?VA():yA()}function yA(){ae(oo(),"useNavigate() may be used only in the context of a <Router> component.");let a=Q.useContext(Rs),{basename:e,navigator:i}=Q.useContext(ri),{matches:s}=Q.useContext(ai),{pathname:o}=ya(),c=JSON.stringify(sv(s)),d=Q.useRef(!1);return hv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(Un(d.current,cv),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=lv(p,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Mi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,a])}Q.createContext(null);function _A(){let{matches:a}=Q.useContext(ai),e=a[a.length-1];return e?e.params:{}}function co(a,{relative:e}={}){let{matches:i}=Q.useContext(ai),{pathname:s}=ya(),o=JSON.stringify(sv(i));return Q.useMemo(()=>lv(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function vA(a,e){return fv(a,e)}function fv(a,e,i,s){var at;ae(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(ri),{matches:d}=Q.useContext(ai),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",S=g&&g.route;{let et=S&&S.path||"";dv(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let w=ya(),U;if(e){let et=typeof e=="string"?pa(e):e;ae(E==="/"||((at=et.pathname)==null?void 0:at.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),U=et}else U=w;let L=U.pathname||"/",K=L;if(E!=="/"){let et=E.replace(/^\//,"").split("/");K="/"+L.replace(/^\//,"").split("/").slice(et.length).join("/")}let H=!c&&i&&i.matches&&i.matches.length>0?i.matches:iv(a,{pathname:K});Un(S||H!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Un(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=bA(H&&H.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Mi([E,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:Mi([E,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&J?Q.createElement(lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},J):J}function EA(){let a=IA(),e=fA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var TA=Q.createElement(EA,null),AA=class extends Q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Q.createElement(ai.Provider,{value:this.props.routeContext},Q.createElement(Nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SA({routeContext:a,match:e,children:i}){let s=Q.useContext(Rs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ai.Provider,{value:a},i)}function bA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ae(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:S}=i,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||w){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,w=!1,U=null,L=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,U=y.route.errorElement||TA,d&&(g<0&&E===0?(dv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):g===E&&(w=!0,L=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),H=()=>{let J;return S?J=U:w?J=L:y.route.Component?J=Q.createElement(y.route.Component,null):y.route.element?J=y.route.element:J=p,Q.createElement(SA,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:J})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(AA,{location:i.location,revalidation:i.revalidation,component:U,error:S,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}function Md(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(a){let e=Q.useContext(Rs);return ae(e,Md(a)),e}function wA(a){let e=Q.useContext(Sc);return ae(e,Md(a)),e}function CA(a){let e=Q.useContext(ai);return ae(e,Md(a)),e}function Od(a){let e=CA(a),i=e.matches[e.matches.length-1];return ae(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function DA(){return Od("useRouteId")}function IA(){var s;let a=Q.useContext(Nd),e=wA("useRouteError"),i=Od("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function VA(){let{router:a}=RA("useNavigate"),e=Od("useNavigate"),i=Q.useRef(!1);return hv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{Un(i.current,cv),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Gy={};function dv(a,e,i){!e&&!Gy[a]&&(Gy[a]=!0,Un(!1,i))}Q.memo(NA);function NA({routes:a,future:e,state:i}){return fv(a,void 0,i,e)}function Zu(a){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ae(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=pa(i));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:w="default"}=i,U=Q.useMemo(()=>{let L=Oi(p,d);return L==null?null:{location:{pathname:L,search:y,hash:E,state:S,key:w},navigationType:s}},[d,p,y,E,S,w,s]);return Un(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Q.createElement(ri.Provider,{value:g},Q.createElement(lo.Provider,{children:e,value:U}))}function OA({children:a,location:e}){return vA(sd(a),e)}function sd(a,e=[]){let i=[];return Q.Children.forEach(a,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,sd(s.props.children,c));return}ae(s.type===Zu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=sd(s.props.children,c)),i.push(d)}),i}var Ju="get",Wu="application/x-www-form-urlencoded";function bc(a){return a!=null&&typeof a.tagName=="string"}function xA(a){return bc(a)&&a.tagName.toLowerCase()==="button"}function UA(a){return bc(a)&&a.tagName.toLowerCase()==="form"}function LA(a){return bc(a)&&a.tagName.toLowerCase()==="input"}function PA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function zA(a,e){return a.button===0&&(!e||e==="_self")&&!PA(a)}var Hu=null;function kA(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var BA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(a){return a!=null&&!BA.has(a)?(Un(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):a}function qA(a,e){let i,s,o,c,d;if(UA(a)){let g=a.getAttribute("action");s=g?Oi(g,e):null,i=a.getAttribute("method")||Ju,o=$f(a.getAttribute("enctype"))||Wu,c=new FormData(a)}else if(xA(a)||LA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Oi(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Ju,o=$f(a.getAttribute("formenctype"))||$f(g.getAttribute("enctype"))||Wu,c=new FormData(g,a),!kA()){let{name:y,type:E,value:S}=a;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,S)}}else{if(bc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ju,s=null,o=Wu,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function xd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function jA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function GA(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await jA(c,i);return d.links?d.links():[]}return[]}));return KA(s.flat(1).filter(HA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fy(a,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function FA(a,e,{includeHydrateFallback:i}={}){return QA(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function QA(a){return[...new Set(a)]}function YA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function KA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(YA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XA=new Set([100,101,204,205]);function $A(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Oi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function mv(){let a=Q.useContext(Rs);return xd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function ZA(){let a=Q.useContext(Sc);return xd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ud=Q.createContext(void 0);Ud.displayName="FrameworkContext";function gv(){let a=Q.useContext(Ud);return xd(a,"You must render this element inside a <HydratedRouter> element"),a}function JA(a,e){let i=Q.useContext(Ud),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,w=Q.useRef(null);Q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=J=>{J.forEach(at=>{d(at.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[a]),Q.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let U=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,w,{}]:[c,w,{onFocus:Gl(g,U),onBlur:Gl(p,L),onMouseEnter:Gl(y,U),onMouseLeave:Gl(E,L),onTouchStart:Gl(S,U)}]:[!1,w,{}]}function Gl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function WA({page:a,...e}){let{router:i}=mv(),s=Q.useMemo(()=>iv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Q.createElement(eS,{page:a,matches:s,...e}):null}function tS(a){let{manifest:e,routeModules:i}=gv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return GA(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function eS({page:a,matches:e,...i}){let s=ya(),{manifest:o,routeModules:c}=gv(),{basename:d}=mv(),{loaderData:g,matches:p}=ZA(),y=Q.useMemo(()=>Fy(a,e,p,o,s,"data"),[a,e,p,o,s]),E=Q.useMemo(()=>Fy(a,e,p,o,s,"assets"),[a,e,p,o,s]),S=Q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,K=!1;if(e.forEach(J=>{var et;let at=o.routes[J.route.id];!at||!at.hasLoader||(!y.some(mt=>mt.route.id===J.route.id)&&J.route.id in g&&((et=c[J.route.id])!=null&&et.shouldRevalidate)||at.hasClientLoader?K=!0:L.add(J.route.id))}),L.size===0)return[];let H=$A(a,d);return K&&L.size>0&&H.searchParams.set("_routes",e.filter(J=>L.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[d,g,s,o,y,e,a,c]),w=Q.useMemo(()=>FA(E,o),[E,o]),U=tS(E);return Q.createElement(Q.Fragment,null,S.map(L=>Q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),w.map(L=>Q.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),U.map(({key:L,link:K})=>Q.createElement("link",{key:L,...K})))}function nS(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pv&&(window.__reactRouterVersion="7.6.0")}catch{}function iS({basename:a,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=HT({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),g=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(g),[o,g]),Q.createElement(MA,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_v=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:S,...w},U){let{basename:L}=Q.useContext(ri),K=typeof y=="string"&&yv.test(y),H,J=!1;if(typeof y=="string"&&K&&(H=y,pv))try{let C=new URL(window.location.href),N=y.startsWith("//")?new URL(C.protocol+y):new URL(y),x=Oi(N.pathname,L);N.origin===C.origin&&x!=null?y=x+N.search+N.hash:J=!0}catch{Un(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=pA(y,{relative:o}),[et,mt,ht]=JA(s,w),Rt=lS(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:o,viewTransition:S});function O(C){e&&e(C),C.defaultPrevented||Rt(C)}let b=Q.createElement("a",{...w,...ht,href:H||at,onClick:J||c?e:O,ref:nS(U,mt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return et&&!K?Q.createElement(Q.Fragment,null,b,Q.createElement(WA,{page:at})):b});_v.displayName="Link";var rS=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},E){let S=co(d,{relative:y.relative}),w=ya(),U=Q.useContext(Sc),{navigator:L,basename:K}=Q.useContext(ri),H=U!=null&&fS(S)&&g===!0,J=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,at=w.pathname,et=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(at=at.toLowerCase(),et=et?et.toLowerCase():null,J=J.toLowerCase()),et&&K&&(et=Oi(et,K)||et);const mt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ht=at===J||!o&&at.startsWith(J)&&at.charAt(mt)==="/",Rt=et!=null&&(et===J||!o&&et.startsWith(J)&&et.charAt(J.length)==="/"),O={isActive:ht,isPending:Rt,isTransitioning:H},b=ht?e:void 0,C;typeof s=="function"?C=s(O):C=[s,ht?"active":null,Rt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(O):c;return Q.createElement(_v,{...y,"aria-current":b,className:C,ref:E,style:N,to:d,viewTransition:g},typeof p=="function"?p(O):p)});rS.displayName="NavLink";var aS=Q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Ju,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...w},U)=>{let L=cS(),K=hS(g,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",J=typeof g=="string"&&yv.test(g),at=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let mt=et.nativeEvent.submitter,ht=(mt==null?void 0:mt.getAttribute("formmethod"))||d;L(mt||et.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:U,method:H,action:K,onSubmit:s?p:at,...w,"data-discover":!J&&a==="render"?"true":void 0})});aS.displayName="Form";function sS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vv(a){let e=Q.useContext(Rs);return ae(e,sS(a)),e}function lS(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=uo(),p=ya(),y=co(a,{relative:c});return Q.useCallback(E=>{if(zA(E,e)){E.preventDefault();let S=i!==void 0?i:Jl(p)===Jl(y);g(a,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,s,e,a,o,c,d])}var oS=0,uS=()=>`__${String(++oS)}__`;function cS(){let{router:a}=vv("useSubmit"),{basename:e}=Q.useContext(ri),i=DA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=qA(s,e);if(o.navigate===!1){let E=o.fetcherKey||uS();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function hS(a,{relative:e}={}){let{basename:i}=Q.useContext(ri),s=Q.useContext(ai);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...co(a||".",{relative:e})},d=ya();if(a==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Mi([i,c.pathname])),Jl(c)}function fS(a,e={}){let i=Q.useContext(uv);ae(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vv("useViewTransitionState"),o=co(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Oi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Oi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return sc(o.pathname,d)!=null||sc(o.pathname,c)!=null}[...XA];function dS(){const a=uo();function e(){a("/Carlist")}return it.jsxs(it.Fragment,{children:[it.jsx("header",{id:"home-header",children:it.jsx("h1",{children:"Menu"})}),it.jsxs("div",{id:"menu",className:"menu",children:[it.jsx("button",{onClick:e,className:"card",children:"Cars"}),it.jsx("button",{className:"card",children:"Coming Soon!"})]})]})}const mS=({vehicle:a})=>{const e=uo();function i(){e(`/vehicles/${a.id}`)}const s=a.model.toLowerCase(),o=s==="corolla",c=s.includes("gx"),g=o?"./corolla.jpg":c?"./gx.jpg":null;return it.jsx("div",{className:"vehicle-card",children:it.jsxs("button",{onClick:i,children:[g&&it.jsx("img",{src:g,alt:a.model,className:"vehicle-image"}),it.jsx("span",{className:"vehicle-text",children:a.model})]})})},gS=()=>{};var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},pS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,U=y&63;p||(U=64,d||(w=64)),s.push(i[E],i[S],i[w],i[U])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Ev(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):pS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new yS;const w=c<<2|g>>4;if(s.push(w),y!==64){const U=g<<4&240|y>>2;if(s.push(U),S!==64){const L=y<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(a){const e=Ev(a);return Tv.encodeByteArray(e,!0)},lc=function(a){return _S(a).replace(/\./g,"")},vS=function(a){try{return Tv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>ES().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof Qy>"u")return;const a=Qy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&vS(a[1]);return e&&JSON.parse(e)},Ld=()=>{try{return gS()||TS()||AS()||SS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},bS=a=>{var e,i;return(i=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},RS=a=>{const e=bS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Av=()=>{var a;return(a=Ld())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){var a;const e=(a=Ld())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="FirebaseError";class ws extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=OS,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sv.prototype.create)}}class Sv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?xS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ws(o,g,s)}}function xS(a,e){return a.replace(US,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const US=/\{\$([^}]+)}/g;function oc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(Yy(c)&&Yy(d)){if(!oc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Yy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(a){return a&&a._delegate?a._delegate:a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(a){return a.endsWith(".cloudworkstations.dev")}async function LS(a){return(await fetch(a,{credentials:"include"})).ok}class Wl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new wS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kS(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(a){return a===ha?void 0:a}function kS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const qS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},jS=Pt.INFO,HS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},GS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=HS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const FS=(a,e)=>e.some(i=>a instanceof i);let Ky,Xy;function QS(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,ld=new WeakMap,Cv=new WeakMap,Zf=new WeakMap,Pd=new WeakMap;function KS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(mr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&wv.set(i,a)}).catch(()=>{}),Pd.set(e,a),e}function XS(a){if(ld.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});ld.set(a,e)}let od={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ld.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Cv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function $S(a){od=a(od)}function ZS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Jf(this),e,...i);return Cv.set(s,e.sort?e.sort():[e]),mr(s)}:YS().includes(a)?function(...e){return a.apply(Jf(this),e),mr(wv.get(this))}:function(...e){return mr(a.apply(Jf(this),e))}}function JS(a){return typeof a=="function"?ZS(a):(a instanceof IDBTransaction&&XS(a),FS(a,QS())?new Proxy(a,od):a)}function mr(a){if(a instanceof IDBRequest)return KS(a);if(Zf.has(a))return Zf.get(a);const e=JS(a);return e!==a&&(Zf.set(a,e),Pd.set(e,a)),e}const Jf=a=>Pd.get(a);function WS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=mr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(mr(d.result),p.oldVersion,p.newVersion,mr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const tb=["get","getKey","getAll","getAllKeys","count"],eb=["put","add","delete","clear"],Wf=new Map;function $y(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=eb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tb.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Wf.set(e,c),c}$S(a=>({...a,get:(e,i,s)=>$y(e,i)||a.get(e,i,s),has:(e,i)=>!!$y(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ib(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ib(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ud="@firebase/app",Zy="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Rv("@firebase/app"),rb="@firebase/app-compat",ab="@firebase/analytics-compat",sb="@firebase/analytics",lb="@firebase/app-check-compat",ob="@firebase/app-check",ub="@firebase/auth",cb="@firebase/auth-compat",hb="@firebase/database",fb="@firebase/data-connect",db="@firebase/database-compat",mb="@firebase/functions",gb="@firebase/functions-compat",pb="@firebase/installations",yb="@firebase/installations-compat",_b="@firebase/messaging",vb="@firebase/messaging-compat",Eb="@firebase/performance",Tb="@firebase/performance-compat",Ab="@firebase/remote-config",Sb="@firebase/remote-config-compat",bb="@firebase/storage",Rb="@firebase/storage-compat",wb="@firebase/firestore",Cb="@firebase/vertexai",Db="@firebase/firestore-compat",Ib="firebase",Vb="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",Nb={[ud]:"fire-core",[rb]:"fire-core-compat",[sb]:"fire-analytics",[ab]:"fire-analytics-compat",[ob]:"fire-app-check",[lb]:"fire-app-check-compat",[ub]:"fire-auth",[cb]:"fire-auth-compat",[hb]:"fire-rtdb",[fb]:"fire-data-connect",[db]:"fire-rtdb-compat",[mb]:"fire-fn",[gb]:"fire-fn-compat",[pb]:"fire-iid",[yb]:"fire-iid-compat",[_b]:"fire-fcm",[vb]:"fire-fcm-compat",[Eb]:"fire-perf",[Tb]:"fire-perf-compat",[Ab]:"fire-rc",[Sb]:"fire-rc-compat",[bb]:"fire-gcs",[Rb]:"fire-gcs-compat",[wb]:"fire-fst",[Db]:"fire-fst-compat",[Cb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,Mb=new Map,hd=new Map;function Jy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function cc(a){const e=a.name;if(hd.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,a);for(const i of uc.values())Jy(i,a);for(const i of Mb.values())Jy(i,a);return!0}function Ob(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function xb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Sv("app","Firebase",Ub);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=Vb;function Dv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=Av()),!i)throw gr.create("no-options");const c=uc.get(o);if(c){if(oc(i,c.options)&&oc(s,c.config))return c;throw gr.create("duplicate-app",{appName:o})}const d=new BS(o);for(const p of hd.values())d.addComponent(p);const g=new Lb(i,s,d);return uc.set(o,g),g}function zb(a=cd){const e=uc.get(a);if(!e&&a===cd&&Av())return Dv();if(!e)throw gr.create("no-app",{appName:a});return e}function ps(a,e,i){var s;let o=(s=Nb[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}cc(new Wl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-heartbeat-database",Bb=1,to="firebase-heartbeat-store";let td=null;function Iv(){return td||(td=WS(kb,Bb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(a=>{throw gr.create("idb-open",{originalErrorMessage:a.message})})),td}async function qb(a){try{const i=(await Iv()).transaction(to),s=await i.objectStore(to).get(Vv(a));return await i.done,s}catch(e){if(e instanceof ws)Ui.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Wy(a,e){try{const s=(await Iv()).transaction(to,"readwrite");await s.objectStore(to).put(e,Vv(a)),await s.done}catch(i){if(i instanceof ws)Ui.warn(i.message);else{const s=gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function Vv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,Hb=30;class Gb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Qb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=t_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Hb){const d=Yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=t_(),{heartbeatsToSend:s,unsentEntries:o}=Fb(this._heartbeatsCache.heartbeats),c=lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ui.warn(i),""}}}function t_(){return new Date().toISOString().substring(0,10)}function Fb(a,e=jb){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),e_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),e_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Qb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function e_(a){return lc(JSON.stringify({version:2,heartbeats:a})).length}function Yb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(a){cc(new Wl("platform-logger",e=>new nb(e),"PRIVATE")),cc(new Wl("heartbeat",e=>new Gb(e),"PRIVATE")),ps(ud,Zy,a),ps(ud,Zy,"esm2017"),ps("fire-js","")}Kb("");var Xb="firebase",$b="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(Xb,$b,"app");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,Nv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function C(){}C.prototype=b.prototype,O.D=b.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(N,x,I){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return b.prototype[x].apply(N,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,C){C||(C=0);var N=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)N[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;16>x;++x)N[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=O.g[0],C=O.g[1],x=O.g[2];var I=O.g[3],R=b+(I^C&(x^I))+N[0]+3614090360&4294967295;b=C+(R<<7&4294967295|R>>>25),R=I+(x^b&(C^x))+N[1]+3905402710&4294967295,I=b+(R<<12&4294967295|R>>>20),R=x+(C^I&(b^C))+N[2]+606105819&4294967295,x=I+(R<<17&4294967295|R>>>15),R=C+(b^x&(I^b))+N[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(I^C&(x^I))+N[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=I+(x^b&(C^x))+N[5]+1200080426&4294967295,I=b+(R<<12&4294967295|R>>>20),R=x+(C^I&(b^C))+N[6]+2821735955&4294967295,x=I+(R<<17&4294967295|R>>>15),R=C+(b^x&(I^b))+N[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(I^C&(x^I))+N[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=I+(x^b&(C^x))+N[9]+2336552879&4294967295,I=b+(R<<12&4294967295|R>>>20),R=x+(C^I&(b^C))+N[10]+4294925233&4294967295,x=I+(R<<17&4294967295|R>>>15),R=C+(b^x&(I^b))+N[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(I^C&(x^I))+N[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=I+(x^b&(C^x))+N[13]+4254626195&4294967295,I=b+(R<<12&4294967295|R>>>20),R=x+(C^I&(b^C))+N[14]+2792965006&4294967295,x=I+(R<<17&4294967295|R>>>15),R=C+(b^x&(I^b))+N[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(x^I&(C^x))+N[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=I+(C^x&(b^C))+N[6]+3225465664&4294967295,I=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(I^b))+N[11]+643717713&4294967295,x=I+(R<<14&4294967295|R>>>18),R=C+(I^b&(x^I))+N[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^I&(C^x))+N[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=I+(C^x&(b^C))+N[10]+38016083&4294967295,I=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(I^b))+N[15]+3634488961&4294967295,x=I+(R<<14&4294967295|R>>>18),R=C+(I^b&(x^I))+N[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^I&(C^x))+N[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=I+(C^x&(b^C))+N[14]+3275163606&4294967295,I=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(I^b))+N[3]+4107603335&4294967295,x=I+(R<<14&4294967295|R>>>18),R=C+(I^b&(x^I))+N[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^I&(C^x))+N[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=I+(C^x&(b^C))+N[2]+4243563512&4294967295,I=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(I^b))+N[7]+1735328473&4294967295,x=I+(R<<14&4294967295|R>>>18),R=C+(I^b&(x^I))+N[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(C^x^I)+N[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=I+(b^C^x)+N[8]+2272392833&4294967295,I=b+(R<<11&4294967295|R>>>21),R=x+(I^b^C)+N[11]+1839030562&4294967295,x=I+(R<<16&4294967295|R>>>16),R=C+(x^I^b)+N[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^I)+N[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=I+(b^C^x)+N[4]+1272893353&4294967295,I=b+(R<<11&4294967295|R>>>21),R=x+(I^b^C)+N[7]+4139469664&4294967295,x=I+(R<<16&4294967295|R>>>16),R=C+(x^I^b)+N[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^I)+N[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=I+(b^C^x)+N[0]+3936430074&4294967295,I=b+(R<<11&4294967295|R>>>21),R=x+(I^b^C)+N[3]+3572445317&4294967295,x=I+(R<<16&4294967295|R>>>16),R=C+(x^I^b)+N[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^I)+N[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=I+(b^C^x)+N[12]+3873151461&4294967295,I=b+(R<<11&4294967295|R>>>21),R=x+(I^b^C)+N[15]+530742520&4294967295,x=I+(R<<16&4294967295|R>>>16),R=C+(x^I^b)+N[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(x^(C|~I))+N[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=I+(C^(b|~x))+N[7]+1126891415&4294967295,I=b+(R<<10&4294967295|R>>>22),R=x+(b^(I|~C))+N[14]+2878612391&4294967295,x=I+(R<<15&4294967295|R>>>17),R=C+(I^(x|~b))+N[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~I))+N[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=I+(C^(b|~x))+N[3]+2399980690&4294967295,I=b+(R<<10&4294967295|R>>>22),R=x+(b^(I|~C))+N[10]+4293915773&4294967295,x=I+(R<<15&4294967295|R>>>17),R=C+(I^(x|~b))+N[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~I))+N[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=I+(C^(b|~x))+N[15]+4264355552&4294967295,I=b+(R<<10&4294967295|R>>>22),R=x+(b^(I|~C))+N[6]+2734768916&4294967295,x=I+(R<<15&4294967295|R>>>17),R=C+(I^(x|~b))+N[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~I))+N[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=I+(C^(b|~x))+N[11]+3174756917&4294967295,I=b+(R<<10&4294967295|R>>>22),R=x+(b^(I|~C))+N[2]+718787259&4294967295,x=I+(R<<15&4294967295|R>>>17),R=C+(I^(x|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+I&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var C=b-this.blockSize,N=this.B,x=this.h,I=0;I<b;){if(x==0)for(;I<=C;)o(this,O,I),I+=this.blockSize;if(typeof O=="string"){for(;I<b;)if(N[x++]=O.charCodeAt(I++),x==this.blockSize){o(this,N),x=0;break}}else for(;I<b;)if(N[x++]=O[I++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var C=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=C&255,C/=256;for(this.u(O),O=Array(16),b=C=0;4>b;++b)for(var N=0;32>N;N+=8)O[C++]=this.g[b]>>>N&255;return O};function c(O,b){var C=g;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=b(O)}function d(O,b){this.h=b;for(var C=[],N=!0,x=O.length-1;0<=x;x--){var I=O[x]|0;N&&I==b||(C[x]=I,N=!1)}this.g=C}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(y(-O));for(var b=[],C=1,N=0;O>=C;N++)b[N]=O/C|0,C*=4294967296;return new d(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(b,8)),N=S,x=0;x<O.length;x+=8){var I=Math.min(8,O.length-x),R=parseInt(O.substring(x,x+I),b);8>I?(I=y(Math.pow(b,I)),N=N.j(I).add(y(R))):(N=N.j(C),N=N.add(y(R)))}return N}var S=p(0),w=p(1),U=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-H(this).m();for(var O=0,b=1,C=0;C<this.g.length;C++){var N=this.i(C);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(K(this))return"-"+H(this).toString(O);for(var b=y(Math.pow(O,6)),C=this,N="";;){var x=mt(C,b).g;C=J(C,x.j(b));var I=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=x,L(C))return I+N;for(;6>I.length;)I="0"+I;N=I+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function K(O){return O.h==-1}a.l=function(O){return O=J(this,O),K(O)?-1:L(O)?0:1};function H(O){for(var b=O.g.length,C=[],N=0;N<b;N++)C[N]=~O.g[N];return new d(C,~O.h).add(w)}a.abs=function(){return K(this)?H(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0,x=0;x<=b;x++){var I=N+(this.i(x)&65535)+(O.i(x)&65535),R=(I>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);N=R>>>16,I&=65535,R&=65535,C[x]=R<<16|I}return new d(C,C[C.length-1]&-2147483648?-1:0)};function J(O,b){return O.add(H(b))}a.j=function(O){if(L(this)||L(O))return S;if(K(this))return K(O)?H(this).j(H(O)):H(H(this).j(O));if(K(O))return H(this.j(H(O)));if(0>this.l(U)&&0>O.l(U))return y(this.m()*O.m());for(var b=this.g.length+O.g.length,C=[],N=0;N<2*b;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<O.g.length;x++){var I=this.i(N)>>>16,R=this.i(N)&65535,ee=O.i(x)>>>16,Wt=O.i(x)&65535;C[2*N+2*x]+=R*Wt,at(C,2*N+2*x),C[2*N+2*x+1]+=I*Wt,at(C,2*N+2*x+1),C[2*N+2*x+1]+=R*ee,at(C,2*N+2*x+1),C[2*N+2*x+2]+=I*ee,at(C,2*N+2*x+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function at(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function et(O,b){this.g=O,this.h=b}function mt(O,b){if(L(b))throw Error("division by zero");if(L(O))return new et(S,S);if(K(O))return b=mt(H(O),b),new et(H(b.g),H(b.h));if(K(b))return b=mt(O,H(b)),new et(H(b.g),b.h);if(30<O.g.length){if(K(O)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var C=w,N=b;0>=N.l(O);)C=ht(C),N=ht(N);var x=Rt(C,1),I=Rt(N,1);for(N=Rt(N,2),C=Rt(C,2);!L(N);){var R=I.add(N);0>=R.l(O)&&(x=x.add(C),I=R),N=Rt(N,1),C=Rt(C,1)}return b=J(O,x.j(b)),new et(x,b)}for(x=S;0<=O.l(b);){for(C=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),I=y(C),R=I.j(b);K(R)||0<R.l(O);)C-=N,I=y(C),R=I.j(b);L(I)&&(I=w),x=x.add(I),O=J(O,R)}return new et(x,O)}a.A=function(O){return mt(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0;N<b;N++)C[N]=this.i(N)&O.i(N);return new d(C,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0;N<b;N++)C[N]=this.i(N)|O.i(N);return new d(C,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],N=0;N<b;N++)C[N]=this.i(N)^O.i(N);return new d(C,this.h^O.h)};function ht(O){for(var b=O.g.length+1,C=[],N=0;N<b;N++)C[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(C,O.h)}function Rt(O,b){var C=b>>5;b%=32;for(var N=O.g.length-C,x=[],I=0;I<N;I++)x[I]=0<b?O.i(I+C)>>>b|O.i(I+C+1)<<32-b:O.i(I+C);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Nv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,pr=d}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mv,Fl,Ov,tc,fd,xv,Uv,Lv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var G=_++;return{value:m(G,u[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function w(u,m,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function U(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,G){for(var rt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)rt[Ot-2]=arguments[Ot];return m.prototype[z].apply(A,rt)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=u.length||0,G=A.length||0;u.length=z+G;for(let rt=0;rt<G;rt++)u[z+rt]=A[rt]}else u.push(A)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Rt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function I(u){g.setTimeout(()=>{throw u},0)}function R(){var u=kt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ee{constructor(){this.h=this.g=null}add(m,_){const A=Wt.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Wt=new J(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,kt=new ee,V=()=>{const u=g.Promise.resolve(void 0);st=()=>{u.then(tt)}};var tt=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){I(_)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Dt(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{mt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}L(Dt,nt);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Pn(u,m,_,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,_,A,z){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var rt=Ir(u,m,A,z);return-1<rt?(m=u[rt],_||(m.fa=!1)):(m=new Pn(m,this.src,G,!!A,z),m.fa=_,u.push(m)),m};function Dr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(A,z,1),G&&(zi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ir(u,m,_,A){for(var z=0;z<u.length;++z){var G=u[z];if(!G.da&&G.listener==m&&G.capture==!!_&&G.ha==A)return z}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Os={};function vo(u,m,_,A,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)vo(u,m[G],_,A,z);return null}return _=Eo(_),u&&u[Ce]?u.K(m,_,y(A)?!!A.capture:!1,z):gn(u,m,_,!1,A,z)}function gn(u,m,_,A,z,G){if(!m)throw Error("Invalid event type");var rt=y(z)?!!z.capture:!!z,Ot=Ta(u);if(Ot||(u[Vr]=Ot=new si(u)),_=Ot.add(m,_,A,rt,G),_.proxy)return _;if(A=jc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(z=rt),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jc(){function u(_){return m.call(u.src,u.listener,_)}const m=Hc;return u}function xs(u,m,_,A,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)xs(u,m[G],_,A,z);else A=y(A)?!!A.capture:!!A,_=Eo(_),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],_=Ir(G,_,A,z),-1<_&&(zi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ta(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,_,A,z)),(_=-1<u?m[u]:null)&&Ea(_))}function Ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Dr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Nr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Ta(m))?(Dr(_,u),_.h==0&&(_.src=null,m[Vr]=null)):zi(u)}}}function Nr(u){return u in Os?Os[u]:Os[u]="on"+u}function Hc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Ea(u),u=_.call(A,m)}return u}function Ta(u){return u=u[Vr],u instanceof si?u:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(u){return typeof u=="function"?u:(u[Us]||(u[Us]=function(m){return u.handleEvent(m)}),u[Us])}function le(){lt.call(this),this.i=new si(this),this.M=this,this.F=null}L(le,lt),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,_,A){xs(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var z=m;m=new nt(A,u),N(m,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var rt=m.g=_[G];z=rn(rt,A,!0,m)&&z}if(rt=m.g=u,z=rn(rt,A,!0,m)&&z,z=rn(rt,A,!1,m)&&z,_)for(G=0;G<_.length;G++)rt=m.g=_[G],z=rn(rt,A,!1,m)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)zi(_[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},le.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function rn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var rt=m[G];if(rt&&!rt.da&&rt.capture==_){var Ot=rt.listener,Te=rt.ha||rt.src;rt.fa&&Dr(u.i,rt),z=Ot.call(Te,A)!==!1&&z}}return z&&!A.defaultPrevented}function je(u,m,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function To(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,To(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gc extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){lt.call(this),this.h=u,this.g={}}L(Mr,lt);var Or=[];function xr(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ea(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),xr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Aa=g.JSON.parse,Ur=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ls(){}Ls.prototype.h=null;function Ps(u){return u.h||(u.h=u.i())}function zs(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){nt.call(this,"d")}L(oi,nt);function ks(){nt.call(this,"c")}L(ks,nt);var zn={},Bs=null;function ki(){return Bs=Bs||new le}zn.La="serverreachability";function Sa(u){nt.call(this,zn.La,u)}L(Sa,nt);function Bi(u){const m=ki();Ht(m,new Sa(m))}zn.STAT_EVENT="statevent";function Ao(u,m){nt.call(this,zn.STAT_EVENT,u),this.stat=m}L(Ao,nt);function ne(u){const m=ki();Ht(m,new Ao(m,u))}zn.Ma="timingevent";function Ee(u,m){nt.call(this,zn.Ma,u),this.size=m}L(Ee,nt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function qs(u,m,_,A,z,G){u.info(function(){if(u.g)if(G)for(var rt="",Ot=G.split("&"),Te=0;Te<Ot.length;Te++){var xt=Ot[Te].split("=");if(1<xt.length){var Ie=xt[0];xt=xt[1];var Ae=Ie.split("_");rt=2<=Ae.length&&Ae[1]=="type"?rt+(Ie+"="+xt+"&"):rt+(Ie+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+_+`
`+rt})}function Fc(u,m,_,A,z,G,rt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+_+`
`+G+" "+rt})}function qi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(u,_)+(A?" "+A:"")})}function So(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Lr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<z.length;rt++)z[rt]=""}}}}return Dn(_)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Bn(){}L(Bn,Ls),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},kn=new Bn;function Ke(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var js={},ba={};function In(u,m,_){u.L=1,u.v=qr(an(m)),u.m=_,u.P=!0,ci(u,null)}function ci(u,m){u.F=Date.now(),Pr(u),u.A=an(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ks(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ce,u.g=ko(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Gc(w(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Or[0]=z.toString()),z=Or);for(var G=0;G<z.length;G++){var rt=vo(_,z[G],A||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),qs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=En(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=_i?Bi(3):Bi(2)),Hi(this);var _=this.g.Z();this.X=_;e:if(bo(this)){var A=No(this.g);u="";var z=A.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),qn(this);var rt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(G&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Fc(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Te=this.g;if((Ot=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Ot)){var xt=Ot;break e}}xt=null}if(_=xt)qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,_);else{this.o=!1,this.s=3,ne(12),xe(this),qn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=Ro(this,rt),Ue==ba){Ae==4&&(this.s=4,ne(14),_=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==js){this.s=4,ne(15),qi(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else qi(this.i,this.l,Ue,null),zr(this,Ue);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||rt.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)qi(this.i,this.l,rt,"[Invalid Chunked Response]"),xe(this),qn(this);else if(0<rt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Xr(Ie),Ie.M=!0,ne(11))}}else qi(this.i,this.l,rt,null),zr(this,rt);Ae==4&&xe(this),this.o&&!this.J&&(Ae==4?Lo(this.j,this):(this.o=!1,Pr(this)))}else $c(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),xe(this),qn(this)}}}catch{}finally{}};function bo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ro(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?ba:(_=Number(m.substring(_,A)),isNaN(_)?js:(A+=1,A+_>m.length?ba:(m=m.slice(A,A+_),u.C=A+_,m)))}Ke.prototype.cancel=function(){this.J=!0,xe(this)};function Pr(u){u.S=Date.now()+u.I,wo(u,u.I)}function wo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(w(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(So(this.i,this.A),this.L!=2&&(Bi(),ne(17)),xe(this),this.s=2,qn(this)):wo(this,this.S-u)};function qn(u){u.j.G==0||u.J||Lo(u.j,u)}function xe(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function zr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Hs(_.h,u))){if(!u.K&&Hs(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)La(_),xa(_);else break t;Ws(_),ne(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(w(_.Za,_),6e3));if(1>=wa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((u.K||_.g==u)&&La(_),!at(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let xt=z[m];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ie=xt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Ae=xt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const _i=xt[5];_i!=null&&typeof _i=="number"&&0<_i&&(A=1.5*_i,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Kn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var G=A.h;G.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ca(G,G.h),G.h=null))}if(A.D){const el=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.ya=el,Qt(A.I,A.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=u;if(A.qa=zo(A,A.J?A.ia:null,A.W),rt.K){Xe(A.h,rt);var Ot=rt,Te=A.L;Te&&(Ot.I=Te),Ot.B&&(Hi(Ot),Pr(Ot)),A.g=rt}else xo(A);0<_.i.length&&Ua(_)}else xt[0]!="stop"&&xt[0]!="close"||yi(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?yi(_,7):Zs(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Bi(4)}catch{}}var Co=class{constructor(u,m){this.g=u,this.map=m}};function hi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wa(u){return u.h?1:u.g?u.g.size:0}function Hs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ca(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hi.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function Qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Da(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Fs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Da(u),A=Qc(u),z=A.length,G=0;G<z;G++)m.call(void 0,A[G],_&&_[G],u)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var G=u[_].substring(0,A);z=u[_].substring(A+1)}else G=u[_];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,_=new di;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),fi(this,_),this.m=u.m}else u&&(m=String(u).match(kr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Gi(this,m[4]),this.l=yn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,Qs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Qs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(jr(_,_.charAt(0)=="/"?Kc:Ys,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",jr(_,Ia)),u.join("")};function an(u){return new ge(u)}function Br(u,m,_){u.j=_?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,_){m instanceof di?(u.i=m,Io(u.i,u.h)):(_||(m=jr(m,Xc)),u.i=new di(m,u.h))}function Qt(u,m,_){u.i.set(m,_)}function qr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Do),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Do(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qs=/[#\/\?@]/g,Ys=/[#\?:]/g,Kc=/[#\?]/g,Xc=/[#\?@]/g,Ia=/#/g;function di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Yc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=di.prototype,a.add=function(u,m){_n(this),this.i=null,u=jn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function mi(u,m){_n(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return _n(u),m=jn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(m,z,A,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const z=u[A];for(let G=0;G<z.length;G++)_.push(m[A])}return _},a.V=function(u){_n(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(jn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return _n(this),this.i=null,u=jn(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ks(u,m,_){mi(u,m),0<_.length&&(u.i=null,u.g.set(jn(u,m),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const G=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var z=G;rt[A]!==""&&(z+="="+encodeURIComponent(String(rt[A]))),u.push(z)}}return this.i=u.join("&")};function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Io(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(mi(this,A),Ks(this,z,_))},u)),u.j=m}function Hr(u,m){const _=new pn;if(g.Image){const A=new Image;A.onload=U(vn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=U(vn,_,"TestLoadImage: error",!1,m,A),A.onabort=U(vn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=U(vn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const _=new pn,A=new AbortController,z=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Gr(){this.g=new Ur}function Hn(u,m,_){const A=_||"";try{Fs(u,function(z,G){let rt=z;y(z)&&(rt=Dn(z)),m.push(A+G+"="+encodeURIComponent(rt))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Fi,Ls),Fi.prototype.g=function(){return new pi(this.l,this.j)},Fi.prototype.i=function(u){return function(){return u}}({});function pi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(pi,le),a=pi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Xs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $s(u){let m="";return Rt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function De(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=$s(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,m,_))}function qt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(qt,le);var Va=/^https?$/i,Fr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Ps(this.o):Ps(kn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Vo(this,G);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of _)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Vo(this,G)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Na(u),Qn(u)}function Na(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},a.bb=function(){Ma(this)};function Ma(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)je(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const rt=u.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=rt===0){var z=String(u.D).match(kr)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!Va.test(z?z.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var G=2<En(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Na(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Qr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Aa(m)}};function No(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(at(u[A]))continue;var _=x(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=m[z]||[];m[z]=G,G.push(_)}O(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Oa(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Oa.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){ne(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=zo(this,null,this.W),Ua(this)};function Zs(u){if(Mo(u),u.G==3){var m=u.U++,_=an(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),Kr(u,_),m=new Ke(u,u.j,m),m.L=2,m.v=qr(an(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=ko(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pr(m)}Po(u)}function xa(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function Mo(u){xa(u),u.u&&(g.clearTimeout(u.u),u.u=null),La(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ua(u){if(!Ra(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||V(),dt||(st(),dt=!0),kt.add(m,u),u.B=0}}function Zc(u,m){return wa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(w(u.Ga,u,m),tl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ke(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Oo(this,z,m),_=an(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Kr(this,_),G&&(this.O?m="headers="+encodeURIComponent(String($s(G)))+"&"+m:this.m&&De(_,this.m,G)),Ca(this.h,z),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),z.T=!0,In(z,_,null)):In(z,_,m),this.G=2}}else this.G==3&&(u?Js(this,u):this.i.length==0||Ra(this.h)||Js(this))};function Js(u,m){var _;m?_=m.l:_=u.U++;const A=an(u.I);Qt(A,"SID",u.K),Qt(A,"RID",_),Qt(A,"AID",u.T),Kr(u,A),u.m&&u.o&&De(A,u.m,u.o),_=new Ke(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Oo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ca(u.h,_),In(_,A,m)}function Kr(u,m){u.H&&Rt(u.H,function(_,A){Qt(m,A,_)}),u.l&&Fs({},function(_,A){Qt(m,A,_)})}function Oo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?w(u.l.Na,u.l,u):null;t:{var z=u.i;let G=-1;for(;;){const rt=["count="+_];G==-1?0<_?(G=z[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let Ot=!0;for(let Te=0;Te<_;Te++){let xt=z[Te].g;const Ie=z[Te].map;if(xt-=G,0>xt)G=Math.max(0,z[Te].g-100),Ot=!1;else try{Hn(Ie,rt,"req"+xt+"_")}catch{A&&A(Ie)}}if(Ot){A=rt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function xo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||V(),dt||(st(),dt=!0),kt.add(m,u),u.v=0}}function Ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(w(u.Fa,u),tl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Uo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(w(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),xa(this),Uo(this))};function Xr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Uo(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=qr(an(m)),_.m=null,_.P=!0,ci(_,u)}a.Za=function(){this.C!=null&&(this.C=null,xa(this),Ws(this),ne(19))};function La(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Lo(u,m){var _=null;if(u.g==m){La(u),Xr(u),u.g=null;var A=2}else if(Hs(u.h,m))_=m.D,Xe(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=ki(),Ht(A,new Ee(A,_)),Ua(u)}else xo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Zc(u,m)||A==2&&Ws(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function tl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var _=w(u.fb,u),A=u.Xa;const z=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Br(A,"https"),qr(A),z?Hr(A.toString(),_):Vn(A.toString(),_)}else ne(2);u.G=0,u.l&&u.l.sa(m),Po(u),Mo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=Gs(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function zo(u,m,_){var A=_ instanceof ge?an(_):new ge(_);if(A.g!="")m&&(A.g=m+"."+A.g),Gi(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new ge(null);A&&Br(G,A),m&&(G.g=m),z&&Gi(G,z),_&&(G.l=_),A=G}return _=u.D,m=u.ya,_&&m&&Qt(A,_,m),Qt(A,"VER",u.la),Kr(u,A),A}function ko(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Fi({eb:_})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}a=Bo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Pa(){}Pa.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){le.call(this),this.g=new Oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}L($e,le),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Zs(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Dn(u),u=_);m.i.push(new Co(m.Ya++,u)),m.G==3&&Ua(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Zs(this.g),delete this.g,$e.aa.N.call(this)};function qo(u){oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(qo,oi);function jo(){ks.call(this),this.status=1}L(jo,ks);function Yn(u){this.g=u}L(Yn,Bo),Yn.prototype.ua=function(){Ht(this.g,"a")},Yn.prototype.ta=function(u){Ht(this.g,new qo(u))},Yn.prototype.sa=function(u){Ht(this.g,new jo)},Yn.prototype.ra=function(){Ht(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Lv=function(){return new Pa},Uv=function(){return ki()},xv=zn,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,tc=ji,ui.COMPLETE="complete",Ov=ui,zs.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",le.prototype.listen=le.prototype.K,Fl=zs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Mv=qt}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore",r_="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Rv("@firebase/firestore");function fs(){return da.logLevel}function ot(a,...e){if(da.logLevel<=Pt.DEBUG){const i=e.map(zd);da.debug(`Firestore (${Cs}): ${a}`,...i)}}function Li(a,...e){if(da.logLevel<=Pt.ERROR){const i=e.map(zd);da.error(`Firestore (${Cs}): ${a}`,...i)}}function _s(a,...e){if(da.logLevel<=Pt.WARN){const i=e.map(zd);da.warn(`Firestore (${Cs}): ${a}`,...i)}}function zd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Pv(a,s,i)}function Pv(a,e,i){let s=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function jt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Pv(e,o,s)}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class Jb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Wb{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new zv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class t1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new t1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new a_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new a_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=i1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function dd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=kv(),d=r1(c.encode(s_(a,i)),c.encode(s_(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,e.length)}function s_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function r1(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Ct(a[i],e[i]);return Ct(a.length,e.length)}function vs(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,o_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*o_);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<l_)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Re(0,0))}static max(){return new At(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class te extends ti{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const a1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return a1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new Be([u_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(te.fromString(e))}static fromName(e){return new gt(te.fromString(e).popFirst(5))}static empty(){return new gt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function s1(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new vr(o,gt.empty(),e)}function l1(a){return new vr(a.readTime,a.key,eo)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(At.min(),gt.empty(),eo)}static max(){return new vr(At.max(),gt.empty(),eo)}}function o1(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==u1)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new Z((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function h1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Rc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function wc(a){return a==null}function hc(a){return a===0&&1/a==-1/0}function f1(a){return typeof a=="number"&&Number.isInteger(a)&&!hc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="";function d1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=c_(e)),e=m1(a.get(i),e);return c_(e)}function m1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case qv:i+="";break;default:i+=c}}return i}function c_(a){return a+qv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Rr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function jv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new dn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hv("Invalid base64 string: "+c):c}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const g1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(a){if(jt(!!a,39018),typeof a=="string"){let e=0;const i=g1.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="server_timestamp",Fv="__type__",Qv="__previous_value__",Yv="__local_write_time__";function Bd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fv])===null||i===void 0?void 0:i.stringValue)===Gv}function Cc(a){const e=a.mapValue.fields[Qv];return Bd(e)?Cc(e):e}function no(a){const e=Er(a.mapValue.fields[Yv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i,s,o,c,d,g,p,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const fc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__type__",y1="__max__",Qu={mapValue:{}},Xv="__vector__",dc="value";function Ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Bd(a)?4:v1(a)?9007199254740991:_1(a)?10:11:vt(28295,{value:a})}function ii(a,e){if(a===e)return!0;const i=Ar(a);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return no(a).isEqual(no(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),g=Er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),g=de(c.doubleValue);return d===g?hc(d)===hc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return vs(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(h_(d)!==h_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ii(d[p],g[p])))return!1;return!0}(a,e);default:return vt(52216,{left:a})}}function ro(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Ar(a),s=Ar(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const g=de(c.integerValue||c.doubleValue),p=de(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return d_(a.timestampValue,e.timestampValue);case 4:return d_(no(a),no(e));case 5:return dd(a.stringValue,e.stringValue);case 6:return function(c,d){const g=Tr(c),p=Tr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ct(g[y],p[y]);if(E!==0)return E}return Ct(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ct(de(c.latitude),de(d.latitude));return g!==0?g:Ct(de(c.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return m_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},w=d.fields||{},U=(g=S[dc])===null||g===void 0?void 0:g.arrayValue,L=(p=w[dc])===null||p===void 0?void 0:p.arrayValue,K=Ct(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:m_(U,L)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===Qu.mapValue&&d===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=dd(p[S],E[S]);if(w!==0)return w;const U=Es(g[p[S]],y[E[S]]);if(U!==0)return U}return Ct(p.length,E.length)}(a.mapValue,e.mapValue);default:throw vt(23264,{Pe:i})}}function d_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Er(a),s=Er(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function m_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Es(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function Ts(a){return md(a)}function md(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Er(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Tr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=md(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${md(i.fields[d])}`;return o+"}"}(a.mapValue):vt(61005,{value:a})}function ec(a){switch(Ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(a);return e?16+ec(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+ec(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Rr(s.fields,(c,d)=>{o+=c.length+ec(d)}),o}(a.mapValue);default:throw vt(13486,{value:a})}}function g_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function gd(a){return!!a&&"integerValue"in a}function qd(a){return!!a&&"arrayValue"in a}function p_(a){return!!a&&"nullValue"in a}function y_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function nc(a){return!!a&&"mapValue"in a}function _1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kv])===null||i===void 0?void 0:i.stringValue)===Xv}function Kl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Rr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Kl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function v1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===y1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Kl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Rr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new nn(Kl(this.value))}}function $v(a){const e=[];return Rr(a.fields,(i,s)=>{const o=new Be([i]);if(nc(s)){const c=$v(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,At.min(),At.min(),At.min(),nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,At.min(),At.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,At.min(),At.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.position=e,this.inclusive=i}}function __(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function v_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i="asc"){this.field=e,this.dir=i}}function E1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{}class ve extends Zv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new A1(e,i,s):i==="array-contains"?new R1(e,s):i==="in"?new w1(e,s):i==="not-in"?new C1(e,s):i==="array-contains-any"?new D1(e,s):new ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new S1(e,s):new b1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Zv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Ln(e,i)}matches(e){return Jv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Jv(a){return a.op==="and"}function Wv(a){return T1(a)&&Jv(a)}function T1(a){for(const e of a.filters)if(e instanceof Ln)return!1;return!0}function pd(a){if(a instanceof ve)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(Wv(a))return a.filters.map(e=>pd(e)).join(",");{const e=a.filters.map(i=>pd(i)).join(",");return`${a.op}(${e})`}}function tE(a,e){return a instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof Ln?function(s,o){return o instanceof Ln&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&tE(d,o.filters[g]),!0):!1}(a,e):void vt(19439)}function eE(a){return a instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"}(a):"Filter"}class A1 extends ve{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class S1 extends ve{constructor(e,i){super(e,"in",i),this.keys=nE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class b1 extends ve{constructor(e,i){super(e,"not-in",i),this.keys=nE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function nE(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class R1 extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qd(i)&&ro(i.arrayValue,this.value)}}class w1 extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class C1 extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ro(this.value.arrayValue,i)}}class D1 extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function E_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new I1(a,e,i,s,o,c,d)}function jd(a){const e=St(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>pd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),wc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.Ie=i}return e.Ie}function Hd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!E1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!tE(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!v_(a.startAt,e.startAt)&&v_(a.endAt,e.endAt)}function yd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function V1(a,e,i,s,o,c,d,g){return new ho(a,e,i,s,o,c,d,g)}function iE(a){return new ho(a)}function T_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function rE(a){return a.collectionGroup!==null}function Xl(a){const e=St(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new gc(c,s))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new gc(Be.keyField(),s))}return e.Ee}function ei(a){const e=St(a);return e.de||(e.de=N1(e,Xl(a))),e.de}function N1(a,e){if(a.limitType==="F")return E_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new gc(o.field,c)});const i=a.endAt?new mc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new mc(a.startAt.position,a.startAt.inclusive):null;return E_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function _d(a,e){const i=a.filters.concat([e]);return new ho(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function vd(a,e,i){return new ho(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Dc(a,e){return Hd(ei(a),ei(e))&&a.limitType===e.limitType}function aE(a){return`${jd(ei(a))}|lt:${a.limitType}`}function ds(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>eE(o)).join(", ")}]`),wc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Ic(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of Xl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=__(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Xl(s),o)||s.endAt&&!function(d,g,p){const y=__(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Xl(s),o))}(a,e)}function M1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function sE(a){return(e,i)=>{let s=!1;for(const o of Xl(a)){const c=O1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function O1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Es(p,y):vt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new se(gt.comparator);function Pi(){return x1}const lE=new se(gt.comparator);function Ql(...a){let e=lE;for(const i of a)e=e.insert(i.key,i);return e}function oE(a){let e=lE;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function fa(){return $l()}function uE(){return $l()}function $l(){return new _a(a=>a.toString(),(a,e)=>a.isEqual(e))}const U1=new se(gt.comparator),L1=new we(gt.comparator);function Mt(...a){let e=L1;for(const i of a)e=e.add(i);return e}const P1=new we(Ct);function z1(){return P1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function cE(a){return{integerValue:""+a}}function k1(a,e){return f1(e)?cE(e):Gd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function B1(a,e,i){return a instanceof pc?function(o,c){const d={fields:{[Fv]:{stringValue:Gv},[Yv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bd(c)&&(c=Cc(c)),c&&(d.fields[Qv]=c),{mapValue:d}}(i,e):a instanceof ao?fE(a,e):a instanceof so?dE(a,e):function(o,c){const d=hE(o,c),g=A_(d)+A_(o.Re);return gd(d)&&gd(o.Re)?cE(g):Gd(o.serializer,g)}(a,e)}function q1(a,e,i){return a instanceof ao?fE(a,e):a instanceof so?dE(a,e):i}function hE(a,e){return a instanceof yc?function(s){return gd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class pc extends Vc{}class ao extends Vc{constructor(e){super(),this.elements=e}}function fE(a,e){const i=mE(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class so extends Vc{constructor(e){super(),this.elements=e}}function dE(a,e){let i=mE(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class yc extends Vc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function A_(a){return de(a.integerValue||a.doubleValue)}function mE(a){return qd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function j1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ao&&o instanceof ao||s instanceof so&&o instanceof so?vs(s.elements,o.elements,ii):s instanceof yc&&o instanceof yc?ii(s.Re,o.Re):s instanceof pc&&o instanceof pc}(a.transform,e.transform)}class H1{constructor(e,i){this.version=e,this.transformResults=i}}class xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Nc{}function gE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Fd(a.key,xn.none()):new fo(a.key,a.data,xn.none());{const i=a.data,s=nn.empty();let o=new we(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new wr(a.key,s,new dn(o.toArray()),xn.none())}}function G1(a,e,i){a instanceof fo?function(o,c,d){const g=o.value.clone(),p=b_(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof wr?function(o,c,d){if(!ic(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=b_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(pE(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof fo?function(c,d,g,p){if(!ic(c.precondition,d))return g;const y=c.value.clone(),E=R_(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof wr?function(c,d,g,p){if(!ic(c.precondition,d))return g;const y=R_(c.fieldTransforms,p,d),E=d.data;return E.setAll(pE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(c,d,g){return ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function F1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=hE(s.transform,o||null);c!=null&&(i===null&&(i=nn.empty()),i.set(s.field,c))}return i||null}function S_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vs(s,o,(c,d)=>j1(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class fo extends Nc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends Nc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pE(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function b_(a,e,i){const s=new Map;jt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,q1(d,g,i[o]))}return s}function R_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,B1(c,d,e))}return s}class Fd extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q1 extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&G1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=uE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=gE(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Mt())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(i,s)=>S_(i,s))&&vs(this.baseMutations,e.baseMutations,(i,s)=>S_(i,s))}}class Qd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return U1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Qd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function $1(a){switch(a){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function yE(a){if(a===void 0)return Li("GRPC error has no .code"),W.UNKNOWN;switch(a){case _e.OK:return W.OK;case _e.CANCELLED:return W.CANCELLED;case _e.UNKNOWN:return W.UNKNOWN;case _e.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case _e.INTERNAL:return W.INTERNAL;case _e.UNAVAILABLE:return W.UNAVAILABLE;case _e.UNAUTHENTICATED:return W.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case _e.NOT_FOUND:return W.NOT_FOUND;case _e.ALREADY_EXISTS:return W.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return W.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case _e.ABORTED:return W.ABORTED;case _e.OUT_OF_RANGE:return W.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return W.UNIMPLEMENTED;case _e.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:a})}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new pr([4294967295,4294967295],0);function w_(a){const e=kv().encode(a),i=new Nv;return i.update(e),new Uint8Array(i.digest())}function C_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,s],0),new pr([o,c],0)]}class Yd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=pr.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(pr.fromNumber(s)));return o.compare(Z1)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=w_(e),[s,o]=C_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(s,o,c);if(!this.be(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Yd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=w_(e),[s,o]=C_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Mc(At.min(),o,new se(Ct),Pi(),Mt())}}class mo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class _E{constructor(e,i){this.targetId=e,this.Ce=i}}class vE{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class D_{constructor(){this.Fe=0,this.Me=I_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Mt(),i=Mt(),s=Mt();return this.Me.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}}),new mo(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=I_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class J1{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=Yu(),this.Ye=Yu(),this.Ze=new se(Ct)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const c=o.target;if(yd(c))if(s===0){const d=new gt(c.path);this.tt(i,d,Ye.newNoDocument(d,At.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),p=g?this.lt(g,e,d):1;if(p!==0){this.st(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Tr(s).toUint8Array()}catch(p){if(p instanceof Hv)return _s("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Yd(d,o,c)}catch(p){return _s(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,c,null),o++)}),o}It(e){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&yd(g.target)){const p=new gt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Ye.newNoDocument(p,e))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let s=Mt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(e));const o=new Mc(e,i,this.Ze,this.He,s);return this.He=Pi(),this.Je=Yu(),this.Ye=Yu(),this.Ze=new se(Ct),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new D_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new we(Ct),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new we(Ct),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new D_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new se(gt.comparator)}function I_(){return new se(gt.comparator)}const W1={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eR={and:"AND",or:"OR"};class nR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ed(a,e){return a.useProto3Json||wc(e)?e:{value:e}}function _c(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function iR(a,e){return _c(a,e.toTimestamp())}function ni(a){return jt(!!a,49232),At.fromTimestamp(function(i){const s=Er(i);return new Re(s.seconds,s.nanos)}(a))}function Kd(a,e){return Td(a,e).canonicalString()}function Td(a,e){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function TE(a){const e=te.fromString(a);return jt(wE(e),10190,{key:e.toString()}),e}function Ad(a,e){return Kd(a.databaseId,e.path)}function ed(a,e){const i=TE(e);if(i.get(1)!==a.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(SE(i))}function AE(a,e){return Kd(a.databaseId,e)}function rR(a){const e=TE(a);return e.length===4?te.emptyPath():SE(e)}function Sd(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function SE(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function V_(a,e,i){return{name:Ad(a,e),fields:i.value.mapValue.fields}}function aR(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?W.UNKNOWN:yE(y.code);return new ct(E,y.message||"")}(d);i=new vE(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ed(a,s.document.name),c=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):At.min(),g=new nn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new rc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ed(a,s.document),c=s.readTime?ni(s.readTime):At.min(),d=Ye.newNoDocument(o,c),g=s.removedTargetIds||[];i=new rc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ed(a,s.document),c=s.removedTargetIds||[];i=new rc([],c,o,null)}else{if(!("filter"in e))return vt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new X1(o,c),g=s.targetId;i=new _E(g,d)}}return i}function sR(a,e){let i;if(e instanceof fo)i={update:V_(a,e.key,e.value)};else if(e instanceof Fd)i={delete:Ad(a,e.key)};else if(e instanceof wr)i={update:V_(a,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof Q1))return vt(16599,{ft:e.type});i={verify:Ad(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:iR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(a,e.precondition)),i}function lR(a,e){return a&&a.length>0?(jt(e!==void 0,14353),a.map(i=>function(o,c){let d=o.updateTime?ni(o.updateTime):ni(c);return d.isEqual(At.min())&&(d=ni(c)),new H1(d,o.transformResults||[])}(i,e))):[]}function oR(a,e){return{documents:[AE(a,e.path)]}}function uR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=AE(a,o);const c=function(y){if(y.length!==0)return RE(Ln.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:ms(w.field),direction:fR(w.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ed(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:i,parent:o}}function cR(a){let e=rR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const w=bE(S);return w instanceof Ln&&Wv(w)?w.getFilters():[w]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(w=>function(L){return new gc(gs(L.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(w))}(i.orderBy));let g=null;i.limit&&(g=function(S){let w;return w=typeof S=="object"?S.value:S,wc(w)?null:w}(i.limit));let p=null;i.startAt&&(p=function(S){const w=!!S.before,U=S.values||[];return new mc(U,w)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const w=!S.before,U=S.values||[];return new mc(U,w)}(i.endAt)),V1(e,o,d,c,g,"F",p,y)}function hR(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gs(i.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(i){return ve.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(s=>bE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(a):vt(30097,{filter:a})}function fR(a){return W1[a]}function dR(a){return tR[a]}function mR(a){return eR[a]}function ms(a){return{fieldPath:a.canonicalString()}}function gs(a){return Be.fromServerFormat(a.fieldPath)}function RE(a){return a instanceof ve?function(i){if(i.op==="=="){if(y_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:dR(i.op),value:i.value}}}(a):a instanceof Ln?function(i){const s=i.getFilters().map(o=>RE(o));return s.length===1?s[0]:{compositeFilter:{op:mR(i.op),filters:s}}}(a):vt(54877,{filter:a})}function gR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function wE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s,o,c=At.min(),d=At.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.wt=e}}function yR(a){const e=cR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.yn=new vR}addToCollectionParentIndex(e,i){return this.yn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class vR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CE=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(CE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new As(0)}static ir(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LruGarbageCollector",ER=1048576;function O_([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class TR{constructor(e){this.cr=e,this.buffer=new we(O_),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();O_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ot(M_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?ot(M_,"Ignoring IndexedDB error during garbage collection: ",i):await Ds(i)}await this.Ir(3e5)})}}class SR{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Rc.le);const s=new TR(i);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Er.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(N_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),fs()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function bR(a,e){return new SR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new _a(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,dn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Mt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Mt()){const o=fa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Ql();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=fa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Mt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=Pi();const d=$l(),g=function(){return $l()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof wr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Zl(E.mutation,y,E.mutation.getFieldMask(),Re.now())):d.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return g.set(y,new wR(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new se((d,g)=>d-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||dn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const S=(o.get(g.batchId)||Mt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=uE();E.forEach(w=>{if(!c.has(w)){const U=gE(i.get(w),s.get(w));U!==null&&S.set(w,U),c=c.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):rE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):Z.resolve(fa());let g=eo,p=c;return d.next(y=>Z.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Mt())).next(E=>({batchId:g,changes:oE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,c).next(g=>Z.forEach(g,p=>{const y=function(S,w){return new ho(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,w)=>{d=d.insert(S,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ye.newInvalidDocument(E)))});let g=Ql();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&Zl(E.mutation,y,dn.empty(),Re.now()),Ic(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:yR(o.bundledQuery),readTime:ni(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.overlays=new se(gt.comparator),this.Or=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fa();return Z.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.St(e,i,c)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=fa(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new se((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=fa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=fa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return Z.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new K1(i,s));let c=this.Or.get(i);c===void 0&&(c=Mt(),this.Or.set(i,c)),this.Or.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.Nr=new we(Oe.Br),this.Lr=new we(Oe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Qr(new Oe(e,i))}$r(e,i){e.forEach(s=>this.removeReference(s,i))}Ur(e){const i=new gt(new te([])),s=new Oe(i,e),o=new Oe(i,e+1),c=[];return this.Lr.forEachInRange([s,o],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new gt(new te([])),s=new Oe(i,e),o=new Oe(i,e+1);let c=Mt();return this.Lr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Oe(e,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return gt.comparator(e.key,i.key)||Ct(e.Gr,i.Gr)}static kr(e,i){return Ct(e.Gr,i.Gr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new we(Oe.Br)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Y1(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.zr=this.zr.add(new Oe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Hr(s),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?kd:this.Jn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,o],d=>{const g=this.jr(d.Gr);c.push(g)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Ct);return i.forEach(o=>{const c=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],g=>{s=s.add(g.Gr)})}),Z.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Oe(new gt(c),0);let g=new we(Ct);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Gr)),!0)},d),Z.resolve(this.Jr(g))}Jr(e){const i=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Z.forEach(i.mutations,o=>{const c=new Oe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,i){const s=new Oe(i,0),o=this.zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.Zr=e,this.docs=function(){return new se(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ye.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Pi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||o1(l1(E),s)<=0||(o.has(E.key)||Ic(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}Xr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new OR(this)}getSize(e){return Z.resolve(this.size)}}class OR extends RR{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.persistence=e,this.ei=new _a(i=>jd(i),Hd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ti=0,this.ni=new Xd,this.targetCount=0,this.ri=As.rr()}forEachTarget(e,i){return this.ei.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),Z.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new As(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.ar(i),Z.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ei.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.ni.qr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.ni.$r(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ni.Wr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,i){this.ii={},this.overlays={},this.si=new Rc(0),this.oi=!1,this.oi=!0,this._i=new VR,this.referenceDelegate=e(this),this.ai=new xR(this),this.indexManager=new _R,this.remoteDocumentCache=function(o){return new MR(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new pR(i),this.ci=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new IR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ii[e.toKey()];return s||(s=new NR(i,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new UR(this.si.next());return this.referenceDelegate.li(),s(o).next(c=>this.referenceDelegate.hi(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Pi(e,i){return Z.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,i)))}}class UR extends c1{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Ti=new Xd,this.Ii=null}static Ei(e){return new $d(e)}get di(){if(this.Ii)return this.Ii;throw vt(60996)}addReference(e,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,s=>{const o=gt.fromPath(s);return this.Ai(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return Z.or([()=>Z.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class vc{constructor(e,i){this.persistence=e,this.Ri=new _a(s=>d1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bR(this,i)}static Ei(e,i){return new vc(e,i)}li(){}hi(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}Vr(e){let i=0;return this.Ar(e,s=>{i++}).next(()=>i)}Ar(e,i){return Z.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(c=>c?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.Xr(e,d=>this.gr(e,d,i).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}gr(e,i,s){return Z.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.Ri.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ls=s,this.hs=o}static Ps(e,i){let s=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return VS()?8:h1(DS())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.Rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new LR;return this.fs(e,i,d).next(g=>{if(c.result=g,this.Is)return this.gs(e,i,d,g.size)})}).next(()=>c.result)}gs(e,i,s,o){return s.documentReadCount<this.Es?(fs()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Z.resolve()):(fs()<=Pt.DEBUG&&ot("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(fs()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}Rs(e,i){if(T_(i))return Z.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=vd(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Mt(...c);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(i,g);return this.ys(i,y,d,p.readTime)?this.Rs(e,vd(i,null,"F")):this.ws(e,y,i,p)}))})))}Vs(e,i,s,o){return T_(i)||o.isEqual(At.min())?Z.resolve(null):this.As.getDocuments(e,s).next(c=>{const d=this.ps(i,c);return this.ys(i,d,s,o)?Z.resolve(null):(fs()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.ws(e,d,i,s1(o,eo)).next(g=>g))})}ps(e,i){let s=new we(sE(e));return i.forEach((o,c)=>{Ic(e,c)&&(s=s.add(c))}),s}ys(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}fs(e,i,s){return fs()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ds(i)),this.As.getDocumentsMatchingQuery(e,i,vr.min(),s)}ws(e,i,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="LocalStore",zR=3e8;class kR{constructor(e,i,s,o){this.persistence=e,this.bs=i,this.serializer=o,this.Ss=new se(Ct),this.Ds=new _a(c=>jd(c),Hd),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function BR(a,e,i,s){return new kR(a,e,i,s)}async function IE(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Fs(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Mt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:d,addedBatchIds:g}))})})}function qR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,w=S.keys();let U=Z.resolve();return w.forEach(L=>{U=U.next(()=>E.getEntry(p,L)).next(K=>{const H=y.docVersions.get(L);jt(H!==null,48541),K.version.compareTo(H)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Mt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function VE(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function jR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const g=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;g.push(i.ai.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.ai.addMatchingKeys(c,E.addedDocuments,S)));let U=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),function(K,H,J){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=zR?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,U,E)&&g.push(i.ai.updateTargetData(c,U))});let p=Pi(),y=Mt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(HR(c,d,e.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!s.isEqual(At.min())){const E=i.ai.getLastRemoteSnapshotVersion(c).next(S=>i.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return Z.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ss=o,c))}function HR(a,e,i){let s=Mt(),o=Mt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=Pi();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(Jd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{xs:d,Os:o}})}function GR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function FR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.ai.getTargetData(s,e).next(c=>c?(o=c,Z.resolve(o)):i.ai.allocateTargetId(s).next(d=>(o=new dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(e,s.targetId)),s})}async function bd(a,e,i){const s=St(a),o=s.Ss.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Is(d))throw d;ot(Jd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function x_(a,e,i){const s=St(a);let o=At.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=St(p),w=S.Ds.get(E);return w!==void 0?Z.resolve(S.Ss.get(w)):S.ai.getTargetData(y,E)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:Mt())).next(g=>(QR(s,M1(e),g),{documents:g,Ns:c})))}function QR(a,e,i){let s=a.vs.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.vs.set(e,s)}class U_{constructor(){this.activeTargetIds=z1()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YR{constructor(){this.So=new U_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,s){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new U_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class P_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ot(L_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ot(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Rd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="RestConnection",XR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,i,s,o,c){const d=Rd(),g=this.$o(e,i.toUriEncodedString());ot(nd,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,c);const{host:y}=new URL(g),E=bv(y);return this.Ko(e,g,p,s,E).then(S=>(ot(nd,`Received RPC '${e}' ${d}: `,S),S),S=>{throw _s(nd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S})}Wo(e,i,s,o,c,d){return this.Qo(e,i,s,o,c)}Uo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}$o(e,i){const s=XR[e];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class JR extends $R{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,s,o,c){const d=Rd();return new Promise((g,p)=>{const y=new Mv;y.setWithCredentials(!0),y.listenOnce(Ov.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case tc.NO_ERROR:const S=y.getResponseJson();ot(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case tc.TIMEOUT:ot(Fe,`RPC '${e}' ${d} timed out`),p(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const w=y.getStatus();if(ot(Fe,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const L=U==null?void 0:U.error;if(L&&L.status&&L.message){const K=function(J){const at=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(at)>=0?at:W.UNKNOWN}(L.status);p(new ct(K,L.message))}else p(new ct(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ct(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{s_:e,streamId:d,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{ot(Fe,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ot(Fe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)})}a_(e,i,s){const o=Rd(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Lv(),g=Uv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ot(Fe,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let w=!1,U=!1;const L=new ZR({Go:H=>{U?ot(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ot(Fe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ot(Fe,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},zo:()=>S.close()}),K=(H,J,at)=>{H.listen(J,et=>{try{at(et)}catch(mt){setTimeout(()=>{throw mt},0)}})};return K(S,Fl.EventType.OPEN,()=>{U||(ot(Fe,`RPC '${e}' stream ${o} transport opened.`),L.t_())}),K(S,Fl.EventType.CLOSE,()=>{U||(U=!0,ot(Fe,`RPC '${e}' stream ${o} transport closed`),L.r_())}),K(S,Fl.EventType.ERROR,H=>{U||(U=!0,_s(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),L.r_(new ct(W.UNAVAILABLE,"The operation could not be completed")))}),K(S,Fl.EventType.MESSAGE,H=>{var J;if(!U){const at=H.data[0];jt(!!at,16349);const et=at,mt=(et==null?void 0:et.error)||((J=et[0])===null||J===void 0?void 0:J.error);if(mt){ot(Fe,`RPC '${e}' stream ${o} received error:`,mt);const ht=mt.status;let Rt=function(C){const N=_e[C];if(N!==void 0)return yE(N)}(ht),O=mt.message;Rt===void 0&&(Rt=W.INTERNAL,O="Unknown error status: "+ht+" with message "+mt.message),U=!0,L.r_(new ct(Rt,O)),S.close()}else ot(Fe,`RPC '${e}' stream ${o} received:`,at),L.i_(at)}}),K(g,xv.STAT_EVENT,H=>{H.stat===fd.PROXY?ot(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===fd.NOPROXY&&ot(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.n_()},0),L}}function id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(a){return new nR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.bi=e,this.timerId=i,this.u_=s,this.c_=o,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="PersistentStream";class ME{constructor(e,i,s,o,c,d,g,p){this.bi=e,this.R_=s,this.V_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new NE(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===i&&this.B_(s,o)},s=>{e(()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,i){const s=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ot(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(ot(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WR extends ME{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=aR(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ni(d.readTime):At.min()}(e);return this.listener.Q_(i,s)}U_(e){const i={};i.database=Sd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=yd(p)?{documents:oR(c,p)}:{query:uR(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=EE(c,d.resumeToken);const y=Ed(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=_c(c,d.snapshotVersion.toTimestamp());const y=Ed(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=hR(this.serializer,e);s&&(i.labels=s),this.F_(i)}K_(e){const i={};i.database=Sd(this.serializer),i.removeTarget=e,this.F_(i)}}class tw extends ME{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=lR(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.j_(s,i)}H_(){const e={};e.database=Sd(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>sR(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{}class nw extends ew{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(e,Td(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(W.UNKNOWN,c.toString())})}Wo(e,i,s,o,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,Td(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(W.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class iw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Li(i),this.ea=!1):ot("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class rw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{s.enqueueAndForget(async()=>{va(this)&&(ot(ma,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.aa.add(4),await go(y),y.la.set("Unknown"),y.aa.delete(4),await xc(y)}(this))})}),this.la=new iw(s,o)}}async function xc(a){if(va(a))for(const e of a.ua)await e(!0)}async function go(a){for(const e of a.ua)await e(!1)}function OE(a,e){const i=St(a);i._a.has(e.targetId)||(i._a.set(e.targetId,e),nm(i)?em(i):Vs(i).b_()&&tm(i,e))}function Wd(a,e){const i=St(a),s=Vs(i);i._a.delete(e),s.b_()&&xE(i,e),i._a.size===0&&(s.b_()?s.v_():va(i)&&i.la.set("Unknown"))}function tm(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Vs(a).U_(e)}function xE(a,e){a.ha.Ke(e),Vs(a).K_(e)}function em(a){a.ha=new J1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Vs(a).start(),a.la.ta()}function nm(a){return va(a)&&!Vs(a).w_()&&a._a.size>0}function va(a){return St(a).aa.size===0}function UE(a){a.ha=void 0}async function aw(a){a.la.set("Online")}async function sw(a){a._a.forEach((e,i)=>{tm(a,e)})}async function lw(a,e){UE(a),nm(a)?(a.la.ia(e),em(a)):a.la.set("Unknown")}async function ow(a,e,i){if(a.la.set("Online"),e instanceof vE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o._a.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o._a.delete(g),o.ha.removeTarget(g))}(a,e)}catch(s){ot(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ec(a,s)}else if(e instanceof rc?a.ha.Xe(e):e instanceof _E?a.ha.ot(e):a.ha.nt(e),!i.isEqual(At.min()))try{const s=await VE(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.ha.It(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c._a.get(y);E&&c._a.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c._a.get(p);if(!E)return;c._a.set(p,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),xE(c,p);const S=new dr(E.target,p,y,E.sequenceNumber);tm(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ot(ma,"Failed to raise snapshot:",s),await Ec(a,s)}}async function Ec(a,e,i){if(!Is(e))throw e;a.aa.add(1),await go(a),a.la.set("Offline"),i||(i=()=>VE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ot(ma,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await xc(a)})}function LE(a,e){return e().catch(i=>Ec(a,i,e))}async function Uc(a){const e=St(a),i=Sr(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:kd;for(;uw(e);)try{const o=await GR(e.localStore,s);if(o===null){e.oa.length===0&&i.v_();break}s=o.batchId,cw(e,o)}catch(o){await Ec(e,o)}PE(e)&&zE(e)}function uw(a){return va(a)&&a.oa.length<10}function cw(a,e){a.oa.push(e);const i=Sr(a);i.b_()&&i.W_&&i.G_(e.mutations)}function PE(a){return va(a)&&!Sr(a).w_()&&a.oa.length>0}function zE(a){Sr(a).start()}async function hw(a){Sr(a).H_()}async function fw(a){const e=Sr(a);for(const i of a.oa)e.G_(i.mutations)}async function dw(a,e,i){const s=a.oa.shift(),o=Qd.from(s,e,i);await LE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Uc(a)}async function mw(a,e){e&&Sr(a).W_&&await async function(s,o){if(function(d){return $1(d)&&d!==W.ABORTED}(o.code)){const c=s.oa.shift();Sr(s).D_(),await LE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Uc(s)}}(a,e),PE(a)&&zE(a)}async function k_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ot(ma,"RemoteStore received new credentials");const s=va(i);i.aa.add(3),await go(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await xc(i)}async function gw(a,e){const i=St(a);e?(i.aa.delete(2),await xc(i)):e||(i.aa.add(2),await go(i),i.la.set("Unknown"))}function Vs(a){return a.Pa||(a.Pa=function(i,s,o){const c=St(i);return c.Y_(),new WR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{jo:aw.bind(null,a),Jo:sw.bind(null,a),Zo:lw.bind(null,a),Q_:ow.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),nm(a)?em(a):a.la.set("Unknown")):(await a.Pa.stop(),UE(a))})),a.Pa}function Sr(a){return a.Ta||(a.Ta=function(i,s,o){const c=St(i);return c.Y_(),new tw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:hw.bind(null,a),Zo:mw.bind(null,a),z_:fw.bind(null,a),j_:dw.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await Uc(a)):(await a.Ta.stop(),a.oa.length>0&&(ot(ma,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new im(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Is(a))return new ct(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Ia=new se(gt.comparator)}track(e){const i=e.doc.key,s=this.Ia.get(i);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(i):e.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):vt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ss{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ss(e,i,ys.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class yw{constructor(){this.queries=q_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=q_(),c.forEach((d,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function q_(){return new _a(a=>aE(a),Dc)}async function _w(a,e){const i=St(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Va()&&e.ma()&&(s=2):(c=new pw,s=e.ma()?0:1);try{switch(s){case 0:c.Aa=await i.onListen(o,!0);break;case 1:c.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=rm(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Ra.push(e),e.ga(i.onlineState),c.Aa&&e.pa(c.Aa)&&am(i)}async function vw(a,e){const i=St(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Ra.indexOf(e);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?o=e.ma()?0:1:!c.Va()&&e.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Ew(a,e){const i=St(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Ra)g.pa(o)&&(s=!0);d.Aa=o}}s&&am(i)}function Tw(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const c of o.Ra)c.onError(i);s.queries.delete(e)}function am(a){a.fa.forEach(e=>{e.next()})}var wd,j_;(j_=wd||(wd={})).ya="default",j_.Cache="cache";class Aw{constructor(e,i,s){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.key=e}}class BE{constructor(e){this.key=e}}class Sw{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Mt(),this.mutatedKeys=Mt(),this.Ua=sE(e),this.Ka=new ys(this.Ua)}get Wa(){return this.qa}Ga(e,i){const s=i?i.za:new B_,o=i?i.Ka:this.Ka;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),U=Ic(this.query,S)?S:null,L=!!w&&this.mutatedKeys.has(w.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let H=!1;w&&U?w.data.isEqual(U.data)?L!==K&&(s.track({type:3,doc:U}),H=!0):this.ja(w,U)||(s.track({type:2,doc:U}),H=!0,(p&&this.Ua(U,p)>0||y&&this.Ua(U,y)<0)&&(g=!0)):!w&&U?(s.track({type:0,doc:U}),H=!0):w&&!U&&(s.track({type:1,doc:w}),H=!0,(p||y)&&(g=!0)),H&&(U?(d=d.add(U),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ka:d,za:s,ys:g,mutatedKeys:c}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((E,S)=>function(U,L){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:H})}};return K(U)-K(L)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(s),o=o!=null&&o;const g=i&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,d.length!==0||y?{snapshot:new Ss(this.query,e.Ka,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new B_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Mt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return e.forEach(s=>{this.$a.has(s)||i.push(new BE(s))}),this.$a.forEach(s=>{e.has(s)||i.push(new kE(s))}),i}Xa(e){this.qa=e.Ns,this.$a=Mt();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return Ss.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const sm="SyncEngine";class bw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Rw{constructor(e){this.key=e,this.tu=!1}}class ww{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new _a(g=>aE(g),Dc),this.iu=new Map,this.su=new Set,this.ou=new se(gt.comparator),this._u=new Map,this.au=new Xd,this.uu={},this.cu=new Map,this.lu=As.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Cw(a,e,i=!0){const s=QE(a);let o;const c=s.ru.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.eu()):o=await qE(s,e,i,!0),o}async function Dw(a,e){const i=QE(a);await qE(i,e,!0,!1)}async function qE(a,e,i,s){const o=await FR(a.localStore,ei(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Iw(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&OE(a.remoteStore,o),g}async function Iw(a,e,i,s,o){a.Pu=(S,w,U)=>async function(K,H,J,at){let et=H.view.Ga(J);et.ys&&(et=await x_(K.localStore,H.query,!1).then(({documents:O})=>H.view.Ga(O,et)));const mt=at&&at.targetChanges.get(H.targetId),ht=at&&at.targetMismatches.get(H.targetId)!=null,Rt=H.view.applyChanges(et,K.isPrimaryClient,mt,ht);return G_(K,H.targetId,Rt.Ya),Rt.snapshot}(a,S,w,U);const c=await x_(a.localStore,e,!0),d=new Sw(e,c.Ns),g=d.Ga(c.documents),p=mo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);G_(a,i,y.Ya);const E=new bw(e,i,d);return a.ru.set(e,E),a.iu.has(i)?a.iu.get(i).push(e):a.iu.set(i,[e]),y.snapshot}async function Vw(a,e,i){const s=St(a),o=s.ru.get(e),c=s.iu.get(o.targetId);if(c.length>1)return s.iu.set(o.targetId,c.filter(d=>!Dc(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Wd(s.remoteStore,o.targetId),Cd(s,o.targetId)}).catch(Ds)):(Cd(s,o.targetId),await bd(s.localStore,o.targetId,!0))}async function Nw(a,e){const i=St(a),s=i.ru.get(e),o=i.iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Wd(i.remoteStore,s.targetId))}async function Mw(a,e,i){const s=kw(a);try{const o=await function(d,g){const p=St(d),y=Re.now(),E=g.reduce((U,L)=>U.add(L.key),Mt());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let L=Pi(),K=Mt();return p.Cs.getEntries(U,E).next(H=>{L=H,L.forEach((J,at)=>{at.isValidDocument()||(K=K.add(J))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,L)).next(H=>{S=H;const J=[];for(const at of g){const et=F1(at,S.get(at.key).overlayedDocument);et!=null&&J.push(new wr(at.key,et,$v(et.value.mapValue),xn.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,J,g)}).next(H=>{w=H;const J=H.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(U,H.batchId,J)})}).then(()=>({batchId:w.batchId,changes:oE(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.uu[d.currentUser.toKey()];y||(y=new se(Ct)),y=y.insert(g,p),d.uu[d.currentUser.toKey()]=y}(s,o.batchId,i),await po(s,o.changes),await Uc(s.remoteStore)}catch(o){const c=rm(o,"Failed to persist write");i.reject(c)}}async function jE(a,e){const i=St(a);try{const s=await jR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i._u.get(c);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?jt(d.tu,14607):o.removedDocuments.size>0&&(jt(d.tu,42227),d.tu=!1))}),await po(i,s,e)}catch(s){await Ds(s)}}function H_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ru.forEach((c,d)=>{const g=d.view.ga(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const w of S.Ra)w.ga(g)&&(y=!0)}),y&&am(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ow(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s._u.get(e),c=o&&o.key;if(c){let d=new se(gt.comparator);d=d.insert(c,Ye.newNoDocument(c,At.min()));const g=Mt().add(c),p=new Mc(At.min(),new Map,new se(Ct),d,g);await jE(s,p),s.ou=s.ou.remove(c),s._u.delete(e),lm(s)}else await bd(s.localStore,e,!1).then(()=>Cd(s,e,i)).catch(Ds)}async function xw(a,e){const i=St(a),s=e.batch.batchId;try{const o=await qR(i.localStore,e);GE(i,s,null),HE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await po(i,o)}catch(o){await Ds(o)}}async function Uw(a,e,i){const s=St(a);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(jt(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);GE(s,e,i),HE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await po(s,o)}catch(o){await Ds(o)}}function HE(a,e){(a.cu.get(e)||[]).forEach(i=>{i.resolve()}),a.cu.delete(e)}function GE(a,e,i){const s=St(a);let o=s.uu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Cd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.iu.get(e))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(s=>{a.au.containsKey(s)||FE(a,s)})}function FE(a,e){a.su.delete(e.path.canonicalString());const i=a.ou.get(e);i!==null&&(Wd(a.remoteStore,i),a.ou=a.ou.remove(e),a._u.delete(i),lm(a))}function G_(a,e,i){for(const s of i)s instanceof kE?(a.au.addReference(s.key,e),Lw(a,s)):s instanceof BE?(ot(sm,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,e),a.au.containsKey(s.key)||FE(a,s.key)):vt(19791,{Iu:s})}function Lw(a,e){const i=e.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(ot(sm,"New document in limbo: "+i),a.su.add(s),lm(a))}function lm(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const i=new gt(te.fromString(e)),s=a.lu.next();a._u.set(s,new Rw(i)),a.ou=a.ou.insert(i,s),OE(a.remoteStore,new dr(ei(iE(i.path)),s,"TargetPurposeLimboResolution",Rc.le))}}async function po(a,e,i){const s=St(a),o=[],c=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{d.push(s.Pu(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Zd.Ps(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.nu.Q_(o),await async function(p,y){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(y,w=>Z.forEach(w.ls,U=>E.persistence.referenceDelegate.addReference(S,w.targetId,U)).next(()=>Z.forEach(w.hs,U=>E.persistence.referenceDelegate.removeReference(S,w.targetId,U)))))}catch(S){if(!Is(S))throw S;ot(Jd,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const U=E.Ss.get(w),L=U.snapshotVersion,K=U.withLastLimboFreeSnapshotVersion(L);E.Ss=E.Ss.insert(w,K)}}}(s.localStore,c))}async function Pw(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ot(sm,"User change. New user:",e.toKey());const s=await IE(i.localStore,e);i.currentUser=e,function(c,d){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new ct(W.CANCELLED,d))})}),c.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(i,s.Ms)}}function zw(a,e){const i=St(a),s=i._u.get(e);if(s&&s.tu)return Mt().add(s.key);{let o=Mt();const c=i.iu.get(e);if(!c)return o;for(const d of c){const g=i.ru.get(d);o=o.unionWith(g.view.Wa)}return o}}function QE(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ow.bind(null,e),e.nu.Q_=Ew.bind(null,e.eventManager),e.nu.Tu=Tw.bind(null,e.eventManager),e}function kw(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uw.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return BR(this.persistence,new PR,e.initialUser,this.serializer)}Ru(e){return new DE($d.Ei,this.serializer)}Au(e){return new YR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class Bw extends Tc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){jt(this.persistence.referenceDelegate instanceof vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AR(s,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new DE(s=>vc.Ei(s,i),this.serializer)}}class Dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pw.bind(null,this.syncEngine),await gw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yw}()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),s=function(c){return new JR(c)}(e.databaseInfo);return function(c,d,g,p){return new nw(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new rw(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>H_(this.syncEngine,i,0),function(){return P_.C()?new P_:new KR}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,E){const S=new ww(o,c,d,g,p,y);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=St(o);ot(ma,"RemoteStore shutting down."),c.aa.add(5),await go(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Dd.provider={build:()=>new Dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class jw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=rm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rd(a,e){a.asyncQueue.verifyOperationInProgress(),ot(br,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await IE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function F_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Hw(a);ot(br,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>k_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>k_(e.remoteStore,o)),a._onlineComponents=e}async function Hw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(br,"Using user provided OfflineComponentProvider");try{await rd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;_s("Error using user provided cache. Falling back to memory cache: "+i),await rd(a,new Tc)}}else ot(br,"Using default OfflineComponentProvider"),await rd(a,new Bw(void 0));return a._offlineComponents}async function YE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(br,"Using user provided OnlineComponentProvider"),await F_(a,a._uninitializedComponentsProvider._online)):(ot(br,"Using default OnlineComponentProvider"),await F_(a,new Dd))),a._onlineComponents}function Gw(a){return YE(a).then(e=>e.syncEngine)}async function Fw(a){const e=await YE(a),i=e.eventManager;return i.onListen=Cw.bind(null,e.syncEngine),i.onUnlisten=Vw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Dw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Nw.bind(null,e.syncEngine),i}function Qw(a,e,i={}){const s=new yr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new qw({next:w=>{E.yu(),d.enqueueAndForget(()=>vw(c,S)),w.fromCache&&p.source==="server"?y.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Aw(g,E,{includeMetadataChanges:!0,Fa:!0});return _w(c,S)}(await Fw(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(a,e,i){if(!i)throw new ct(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Yw(a,e,i,s){if(e===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Y_(a){if(!gt.isDocumentKey(a))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function K_(a){if(gt.isDocumentKey(a))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Lc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function ga(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lc(a);throw new ct(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="firestore.googleapis.com",X_=!0;class $_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$E,this.ssl=X_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:X_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ER)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Zb;switch(s.type){case"firstParty":return new e1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Q_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),Q_.delete(i),s.terminate())}(this),Promise.resolve()}}function Kw(a,e,i,s={}){var o;a=ga(a,Pc);const c=bv(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${i}`;c&&LS(`https://${p}`),d.host!==$E&&d.host!==p&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!oc(y,g)&&(a._setSettings(y),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=Qe.MOCK_USER;else{E=CS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qe(w)}a._authCredentials=new Jb(new zv(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class mn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class _r extends Ns{constructor(e,i,s){super(e,i,iE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new gt(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function Ms(a,e,...i){if(a=xi(a),XE("collection","path",e),a instanceof Pc){const s=te.fromString(e,...i);return K_(s),new _r(a,null,s)}{if(!(a instanceof mn||a instanceof _r))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return K_(s),new _r(a.firestore,null,s)}}function om(a,e,...i){if(a=xi(a),arguments.length===1&&(e=Bv.newId()),XE("doc","path",e),a instanceof Pc){const s=te.fromString(e,...i);return Y_(s),new mn(a,null,new gt(s))}{if(!(a instanceof mn||a instanceof _r))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return Y_(s),new mn(a.firestore,a instanceof _r?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new NE(this,"async_queue_retry"),this.ju=()=>{const s=id();s&&ot(Z_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const i=id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new yr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Is(e))throw e;ot(Z_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Li("INTERNAL UNHANDLED ERROR: ",W_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(e,i,s){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const o=im.createAndSchedule(this,e,i,s,c=>this.Xu(c));return this.Uu.push(o),o}Ju(){this.Ku&&vt(47125,{ec:W_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function W_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class yo extends Pc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new J_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function Xw(a,e){const i=typeof a=="object"?a:zb(),s=typeof a=="string"?a:fc,o=Ob(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=RS("firestore");c&&Kw(o,...c)}return o}function ZE(a){if(a._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||$w(a),a._firestoreClient}function $w(a){var e,i,s;const o=a._freezeSettings(),c=function(g,p,y,E){return new p1(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,KE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new jw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(qe.fromBase64String(e))}catch(i){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new bs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=/^__.*__$/;class Jw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}class JE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function WE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{oc:a})}}class fm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ac(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(WE(this.oc)&&Zw.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Ww{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Oc(e)}dc(e,i,s,o=!1){return new fm({oc:e,methodName:i,Ec:s,path:Be.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(a){const e=a._freezeSettings(),i=Oc(a._databaseId);return new Ww(a._databaseId,!!e.ignoreUndefinedProperties,i)}function t2(a,e,i,s,o,c={}){const d=a.dc(c.merge||c.mergeFields?2:0,e,i,o);mm("Data must be an object, but it was:",d,s);const g=t0(s,d);let p,y;if(c.merge)p=new dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const w=Id(e,S,i);if(!d.contains(w))throw new ct(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);n0(E,w)||E.push(w)}p=new dn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new Jw(new nn(g),p,y)}class kc extends um{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}function e2(a,e,i,s){const o=a.dc(1,e,i);mm("Data must be an object, but it was:",o,s);const c=[],d=nn.empty();Rr(s,(p,y)=>{const E=gm(e,p,i);y=xi(y);const S=o.hc(E);if(y instanceof kc)c.push(E);else{const w=_o(y,S);w!=null&&(c.push(E),d.set(E,w))}});const g=new dn(c);return new JE(d,g,o.fieldTransforms)}function n2(a,e,i,s,o,c){const d=a.dc(1,e,i),g=[Id(e,s,i)],p=[o];if(c.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Id(e,c[w])),p.push(c[w+1]);const y=[],E=nn.empty();for(let w=g.length-1;w>=0;--w)if(!n0(y,g[w])){const U=g[w];let L=p[w];L=xi(L);const K=d.hc(U);if(L instanceof kc)y.push(U);else{const H=_o(L,K);H!=null&&(y.push(U),E.set(U,H))}}const S=new dn(y);return new JE(E,S,d.fieldTransforms)}function i2(a,e,i,s=!1){return _o(i,a.dc(s?4:3,e))}function _o(a,e){if(e0(a=xi(a)))return mm("Unsupported field value:",e,a),t0(a,e);if(a instanceof um)return function(s,o){if(!WE(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=_o(g,o.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=xi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return k1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:_c(o.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_c(o.serializer,c)}}if(s instanceof cm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bs)return{bytesValue:EE(o.serializer,s._byteString)};if(s instanceof mn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hm)return function(d,g){return{mapValue:{fields:{[Kv]:{stringValue:Xv},[dc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Tc("VectorValues must only contain numeric values.");return Gd(g.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Lc(s)}`)}(a,e)}function t0(a,e){const i={};return jv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(a,(s,o)=>{const c=_o(o,e.uc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function e0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Re||a instanceof cm||a instanceof bs||a instanceof mn||a instanceof um||a instanceof hm)}function mm(a,e,i){if(!e0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Lc(i);throw s==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+s)}}function Id(a,e,i){if((e=xi(e))instanceof zc)return e._internalPath;if(typeof e=="string")return gm(a,e);throw Ac("Field path arguments must be of type string or ",a,!1,void 0,i)}const r2=new RegExp("[~\\*/\\[\\]]");function gm(a,e,i){if(e.search(r2)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new zc(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Ac(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ct(W.INVALID_ARGUMENT,g+a+p)}function n0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class a2 extends i0{data(){return super.data()}}function pm(a,e){return typeof e=="string"?gm(a,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class l2 extends ym{}function o2(a,e,...i){let s=[];e instanceof ym&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof _m).length,g=c.filter(p=>p instanceof Bc).length;if(d>1||d>0&&g>0)throw new ct(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Bc extends l2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Bc(e,i,s)}_apply(e){const i=this._parse(e);return r0(e._query,i),new Ns(e.firestore,e.converter,_d(e._query,i))}_parse(e){const i=dm(e.firestore);return function(c,d,g,p,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ev(S,E);const L=[];for(const K of S)L.push(tv(p,c,K));w={arrayValue:{values:L}}}else w=tv(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ev(S,E),w=i2(g,d,S,E==="in"||E==="not-in");return ve.create(y,E,w)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function u2(a,e,i){const s=e,o=pm("where",a);return Bc._create(o,s,i)}class _m extends ym{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new _m(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)r0(d,p),d=_d(d,p)}(e._query,i),new Ns(e.firestore,e.converter,_d(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tv(a,e,i){if(typeof(i=xi(i))=="string"){if(i==="")throw new ct(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(e)&&i.indexOf("/")!==-1)throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!gt.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g_(a,new gt(s))}if(i instanceof mn)return g_(a,i._key);throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(i)}.`)}function ev(a,e){if(!Array.isArray(a)||a.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r0(a,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class c2{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[dc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new hm(c)}convertGeoPoint(e){return new cm(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Cc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Er(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);jt(wE(s),9688,{name:e});const o=new io(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Li(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f2 extends i0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(pm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ac extends f2{data(e={}){return super.data(e)}}class d2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ac(this._firestore,this._userDataWriter,s.key,s,new Xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new ac(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new ac(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:m2(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function m2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}class g2 extends c2{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,i)}}function qc(a){a=ga(a,Ns);const e=ga(a.firestore,yo),i=ZE(e),s=new g2(e);return s2(a._query),Qw(i,a._query).then(o=>new d2(e,s,a,o))}function p2(a,e,i,...s){a=ga(a,mn);const o=ga(a.firestore,yo),c=dm(o);let d;return d=typeof(e=xi(e))=="string"||e instanceof zc?n2(c,"updateDoc",a._key,e,i,s):e2(c,"updateDoc",a._key,e),vm(o,[d.toMutation(a._key,xn.exists(!0))])}function y2(a){return vm(ga(a.firestore,yo),[new Fd(a._key,xn.none())])}function a0(a,e){const i=ga(a.firestore,yo),s=om(a),o=h2(a.converter,e);return vm(i,[t2(dm(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,xn.exists(!1))]).then(()=>s)}function vm(a,e){return function(s,o){const c=new yr;return s.asyncQueue.enqueueAndForget(async()=>Mw(await Gw(s),o,c)),c.promise}(ZE(a),e)}(function(e,i=!0){(function(o){Cs=o})(Pb),cc(new Wl("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new yo(new Wb(s.getProvider("auth-internal")),new n1(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ps(i_,r_,e),ps(i_,r_,"esm2017")})();const _2={apiKey:"AIzaSyBiniIS4WNM0CJJatMoWZ1Vb1Y-A6a-J4Y",authDomain:"home-manager-db.firebaseapp.com",projectId:"home-manager-db",storageBucket:"home-manager-db.firebasestorage.app",messagingSenderId:"394139811023",appId:"1:394139811023:web:ea30343d756ebf4068cbba",measurementId:"G-LMD7VQXNPR"},v2=Dv(_2),Cr=Xw(v2);function s0(){return new Date().toLocaleDateString("en-CA")}async function E2(a){return console.log("Adding vehicle:",a),{id:(await a0(Ms(Cr,"vehicles"),a)).id,...a}}async function l0(a){return{id:(await a0(Ms(Cr,"maintenance"),a)).id,...a}}async function T2(a,e){const i=om(Cr,"vehicles",a);await p2(i,e)}async function A2(a){const e=om(Cr,"vehicles",a);await y2(e)}async function S2(){const a=Ms(Cr,"vehicles");return(await qc(a)).docs.map(i=>({id:i.id,...i.data()}))}async function nv(){try{console.log("Testing Firebase connection...");const a=Ms(Cr,"vehicles");return await qc(a),console.log("Firebase connection successful"),!0}catch(a){return console.error("Firebase connection failed:",a),!1}}async function b2(){try{console.log("Fetching ALL maintenance records...");const a=Ms(Cr,"maintenance"),i=(await qc(a)).docs.map(s=>({id:s.id,...s.data()}));return console.log("All maintenance records:",i),i}catch(a){return console.error("Error fetching all maintenance records:",a),[]}}async function $u(a){try{console.log("Firebase: Starting maintenance query for vehicleId:",a);const e=Ms(Cr,"maintenance");console.log("Firebase: Collection reference created");const i=o2(e,u2("vehicleId","==",a));console.log("Firebase: Simple query created (no orderBy)");const s=await qc(i);console.log("Firebase: Query executed, got",s.docs.length,"documents");let o=s.docs.map(c=>({id:c.id,...c.data()}));return o.length>0&&(o=o.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime()),console.log("Firebase: Records sorted by date (newest first)")),console.log("Firebase: Processed records:",o),console.log("Firebase: Query completed successfully without index requirements"),o}catch(e){throw console.error("Firebase: Error in getMaintenanceForVehicle:",e),console.error("Firebase: Error details:",{message:e instanceof Error?e.message:"Unknown error",vehicleId:a,errorType:e instanceof Error?e.constructor.name:"Unknown"}),e}}const R2=({onAdd:a})=>{const[e,i]=Q.useState(""),[s,o]=Q.useState(""),[c,d]=Q.useState(""),[g,p]=Q.useState(""),y=async E=>{E.preventDefault();const S={make:e,model:s,year:Number(c),mileage:Number(g)},w=await E2(S);a(w),i(""),o(""),d(""),p("")};return it.jsxs("form",{onSubmit:y,children:[it.jsx("input",{value:e,onChange:E=>i(E.target.value),placeholder:"Make",required:!0}),it.jsx("input",{value:s,onChange:E=>o(E.target.value),placeholder:"Model",required:!0}),it.jsx("input",{value:c,onChange:E=>d(E.target.value),placeholder:"Year",required:!0,type:"number"}),it.jsx("input",{value:g,onChange:E=>p(E.target.value),placeholder:"Mileage",required:!0,type:"number"}),it.jsx("button",{type:"submit",children:"Add Vehicle"})]})},w2=({vehicles:a,onAddVehicle:e})=>{const i=uo(),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),g=Q.useRef(null);function p(){i("/")}function y(){g.current&&(g.current.style.transform="scale(0.95)",setTimeout(()=>{g.current&&(g.current.style.transform="scale(1)")},150))}function E(){s?S():(d(!0),setTimeout(()=>o(!0),10),g.current&&(g.current.innerText="-",y()))}function S(){o(!1),setTimeout(()=>d(!1),300),g.current&&(g.current.innerText="+",y())}function w(U){e(U),o(!1)}return it.jsxs(it.Fragment,{children:[it.jsxs("header",{id:"list-header",children:[it.jsx("button",{id:"home-button",onClick:p,children:"Home"}),it.jsx("h1",{children:"Vehicles"})]}),it.jsx("div",{className:"vehicle-list",children:a.map(U=>it.jsx(mS,{vehicle:U},U.id))}),it.jsx("button",{type:"button",id:"addCarButton",ref:g,onClick:E,children:"+"}),c&&it.jsxs(it.Fragment,{children:[it.jsx("div",{className:`overlay${s?"":" hidden"}`,onClick:S}),it.jsx("div",{className:`form-modal${s?"":" hidden"}`,children:it.jsx(R2,{onAdd:w,onClose:S})})]})]})},C2=({vehicleId:a,onAdd:e,onClose:i})=>{const[s,o]=Q.useState(s0()),[c,d]=Q.useState(""),[g,p]=Q.useState(""),y=async S=>{if(S.preventDefault(),!c.trim()||!g.trim()){alert("Please fill in all fields");return}const w={vehicleId:a,date:s,description:c.trim(),cost:Number(g)};try{const U=await l0(w);e(U),i()}catch(U){console.error("Error adding maintenance:",U),alert("Failed to add maintenance. Please try again.")}},E=()=>{i()};return it.jsx("div",{className:"overlay",children:it.jsxs("div",{className:"maintenance-form-modal",children:[it.jsx("h3",{children:"Add Maintenance Record"}),it.jsxs("form",{onSubmit:y,children:[it.jsxs("div",{className:"form-group",children:[it.jsx("label",{htmlFor:"date",children:"Date:"}),it.jsx("input",{id:"date",type:"date",value:s,onChange:S=>o(S.target.value),required:!0})]}),it.jsxs("div",{className:"form-group",children:[it.jsx("label",{htmlFor:"description",children:"Description:"}),it.jsx("textarea",{id:"description",value:c,onChange:S=>d(S.target.value),placeholder:"Describe the maintenance performed...",required:!0,rows:3})]}),it.jsxs("div",{className:"form-group",children:[it.jsx("label",{htmlFor:"cost",children:"Cost ($):"}),it.jsx("input",{id:"cost",type:"number",value:g,onChange:S=>p(S.target.value),placeholder:"0.00",step:"0.01",min:"0",required:!0})]}),it.jsxs("div",{className:"form-buttons",children:[it.jsx("button",{type:"button",onClick:E,className:"cancel-button",children:"Cancel"}),it.jsx("button",{type:"submit",className:"submit-button",children:"Add Maintenance"})]})]})]})})},D2=({vehicles:a,onUpdateVehicle:e,onDeleteVehicle:i})=>{const s=uo(),o=-1,{id:c}=_A(),d=a.find(I=>I.id.toString()===c),[g,p]=Q.useState(""),[y,E]=Q.useState(!1),[S,w]=Q.useState(!1),[U,L]=Q.useState([]),[K,H]=Q.useState(!0);if(Q.useEffect(()=>{d&&(async()=>{try{H(!0),console.log("=== INITIAL MAINTENANCE FETCH ==="),console.log("Vehicle object:",d),console.log("Vehicle ID type:",typeof d.id),console.log("Vehicle ID value:",d.id),console.log("Vehicle ID as string:",d.id.toString());const R=await $u(d.id.toString());console.log("Loaded maintenance records:",R.length,"records"),console.log("Records:",R),L(R)}catch(R){console.error("Error fetching maintenance records:",R),console.error("Error details:",{message:R instanceof Error?R.message:"Unknown error",vehicleId:d.id.toString()})}finally{H(!1)}})()},[d]),!d)return it.jsx("div",{children:"Vehicle not found."});function J(){s(o)}async function at(I,R){await T2(I,{mileage:R}),e(I,R)}async function et(I){await A2(I),i(I),s("/carlist")}function mt(){E(!0)}function ht(){E(!1)}function Rt(){d&&et(d.id.toString()),ht()}function O(){w(!0)}function b(){w(!1)}async function C(I){if(d)try{const R=await $u(d.id.toString());L(R),console.log("Maintenance added:",I),b()}catch(R){console.error("Error refreshing maintenance records:",R),L(ee=>[I,...ee]),b()}}async function N(){if(d)try{if(H(!0),console.log("Manually refreshing maintenance records for vehicle:",d.id),console.log("Vehicle ID being used:",d.id.toString()),!await nv())throw new Error("Firebase connection failed");const R=await $u(d.id.toString());console.log("Maintenance records refreshed successfully:",R.length,"records"),console.log("Records:",R),L(R)}catch(I){console.error("Error refreshing maintenance records:",I),console.error("Error details:",{message:I instanceof Error?I.message:"Unknown error",stack:I instanceof Error?I.stack:void 0,vehicleId:d.id.toString()});const R=I instanceof Error?I.message:"Unknown error";alert(`Failed to refresh maintenance records: ${R}

Please check your internet connection and try again.`)}finally{H(!1)}}async function x(){try{console.log("=== DEBUGGING MAINTENANCE RECORDS ==="),console.log("Current vehicle ID:",d==null?void 0:d.id);const I=await nv();console.log("Firebase connected:",I);const R=await b2();console.log("Total maintenance records in database:",R.length),console.log("All records:",R);const ee=await $u((d==null?void 0:d.id.toString())||"");if(console.log("Records for this vehicle:",ee),d){console.log("Testing maintenance record addition...");const Wt={vehicleId:d.id.toString(),date:s0(),description:"Test maintenance record",cost:0};console.log("Test maintenance data:",Wt);try{const F=await l0(Wt);console.log("Successfully added test record:",F),alert(`Debug complete!

Total records: ${R.length}
Vehicle records: ${ee.length}
Test record added successfully!

Check console for details.`)}catch(F){console.error("Failed to add test record:",F),alert(`Debug complete!

Total records: ${R.length}
Vehicle records: ${ee.length}
Failed to add test record: ${F instanceof Error?F.message:"Unknown error"}

Check console for details.`)}}else alert(`Debug complete!

Total records: ${R.length}
Vehicle records: ${ee.length}

Check console for details.`)}catch(I){console.error("Debug error:",I),alert(`Debug failed: ${I instanceof Error?I.message:"Unknown error"}`)}}return it.jsxs("div",{children:[it.jsxs("div",{className:"menubar",children:[it.jsx("button",{onClick:J,children:"Back"}),it.jsx("button",{onClick:mt,type:"button",id:"delete",children:"Delete"})]}),it.jsxs("h2",{children:[d.year," ",d.make," ",d.model]}),it.jsxs("p",{children:["Mileage: ",d.mileage," "," ",it.jsx("input",{title:"miles",name:"miles",id:"mileageUpdateAmount",value:g,onChange:I=>p(I.target.value)}),it.jsx("button",{onClick:()=>at(d.id.toString(),parseInt(g)),type:"button",id:"edit",children:"Update"})]}),it.jsxs("details",{children:[it.jsxs("summary",{children:["Maintenance Records",U.length>0&&it.jsxs("span",{className:"maintenance-summary",children:[" ","(",U.length," records, Total: $",U.reduce((I,R)=>I+R.cost,0).toFixed(2),")"]})]}),it.jsxs("div",{className:"maintenance-controls",children:[it.jsx("button",{onClick:N,className:"refresh-button",disabled:K,children:K?"Refreshing...":"Refresh"}),it.jsx("button",{onClick:x,className:"debug-button",children:"Debug"})]}),K?it.jsx("p",{children:"Loading maintenance records..."}):U.length===0?it.jsx("p",{children:"No maintenance records found."}):it.jsx("div",{className:"maintenance-list",children:U.map(I=>it.jsxs("div",{className:"maintenance-record",children:[it.jsxs("div",{className:"maintenance-header",children:[it.jsx("span",{className:"maintenance-date",children:new Date(I.date).toLocaleDateString()}),it.jsxs("span",{className:"maintenance-cost",children:["$",I.cost.toFixed(2)]})]}),it.jsx("div",{className:"maintenance-description",children:I.description})]},I.id))})]}),it.jsx("button",{id:"add-maintenance",onClick:O,children:"Add Maintenance"}),y&&it.jsx("div",{className:"overlay",children:it.jsxs("div",{className:"delete-confirmation-modal",children:[it.jsx("h3",{children:"Confirm Delete"}),it.jsxs("p",{children:["Are you sure you want to delete the ",d.year," ",d.make," ",d.model,"?"]}),it.jsx("p",{children:"This action cannot be undone."}),it.jsxs("div",{className:"confirmation-buttons",children:[it.jsx("button",{onClick:ht,className:"cancel-button",children:"Cancel"}),it.jsx("button",{onClick:Rt,className:"confirm-delete-button",children:"Delete Vehicle"})]})]})}),S&&it.jsx(C2,{vehicleId:d.id.toString(),onAdd:C,onClose:b})]})},I2=()=>{const[a,e]=Q.useState([]);Q.useEffect(()=>{async function c(){const d=await S2();e(d)}c()},[]);const i=c=>{e(d=>[...d,c])},s=(c,d)=>{e(g=>g.map(p=>p.id.toString()===c?{...p,mileage:d}:p))},o=c=>{e(d=>d.filter(g=>g.id.toString()!==c))};return it.jsx(iS,{children:it.jsxs(OA,{children:[it.jsx(Zu,{path:"/",element:it.jsx(dS,{})}),it.jsx(Zu,{path:"/carlist",element:it.jsx(w2,{vehicles:a,onAddVehicle:i})}),it.jsx(Zu,{path:"/vehicles/:id",element:it.jsx(D2,{vehicles:a,onUpdateVehicle:s,onDeleteVehicle:o})})]})})};qT.createRoot(document.getElementById("root")).render(it.jsx(Q.StrictMode,{children:it.jsx(I2,{})}));
